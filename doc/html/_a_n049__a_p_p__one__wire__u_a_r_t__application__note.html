<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="APP_One_Wire_UART_Page"></a>
APP One Wire UART Function Application Note </h1>
<p><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
 </p><center><b>V1.0.0.0</b></center><p><br />
 </p><center><b>2022/10/12</b></center><div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_rev"></a>
Revision History</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Version  </th><th class="markdownTableHeadCenter">Date  </th><th class="markdownTableHeadCenter">Description   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">V1.0.0.0  </td><td class="markdownTableBodyCenter">2021/10/21  </td><td class="markdownTableBodyCenter">Stable Release   </td></tr>
</table>
<div style="page-break-after: always;"></div><h2>Contents</h2>
<ul>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_rev">Revision History</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Table_List">Table List</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Figure_List">Figure List</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Glossary">Glossary</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Introduction">1 Introduction</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Control">2 One Wire UART Control</a><ul>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_McuConfigTool_Configuration">2.1 McuConfigTool Configuration</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_PINMUX_Configuration">2.2 PINMUX_Config Configuration</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Source_Code_Overview">2.3 Source Code Overview</a><ul>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Init_and_Deinit">2.3.1 Init and deinit</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Open_and_Close">2.3.2 Open and Close</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Switch_TX_RX_Mode">2.3.3 Switch TX or RX mode</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Scenario_for_RTK_Smart_ChargerBox">3 One Wire UART Scenario for RTK Smart ChargerBox</a><ul>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#Adp_One_Wire_UART_McuConfigTool_Configuration">3.1 Adp One Wire McuConfigTool Configuration</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#Adp_One_Wire_UART_PINMUX_Configuration">3.2 Adp One Wire PINMUX_Config Configuration</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#Adp_One_Wire_UART_Source_Code_Overview">3.3 Adp One Wire Source Code Overview</a><ul>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#Adp_One_Wire_UART_Open_and_Close">3.3.1 Adp One Wire UART Open and Close</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#Adp_One_Wire_UART_CMD_Handle">3.3.2 Adp One Wire UART CMD Handle</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#Adp_One_Wire_UART_CMD_Format">3.3.3 Adp One Wire UART CMD Format</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Scenario_for_Bud_Aging_Test">4 One Wire UART Scenario for Buds Aging Test</a><ul>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Introduction_Of_Aging_Test">4.1 Introduction of Aging Test</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Aging_Test_Source_Code_Overview">4.2 Source Code Overview</a><ul>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Aging_Test_Start_and_Stop">4.2.1 Start and stop aging test</a></li>
<li><a class="el" href="_a_n049__a_p_p__one__wire__u_a_r_t__application__note.html#One_Wire_UART_Aging_Test_Get_State">4.2.2 Get aging test state</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_Table_List"></a>
Table List</h2>
<ul>
<li><a href="#table_3_3_3_1">Table 3-3-3-1 VADP Command Format</a></li>
<li><a href="#table_3_3_3_2">Table 3-3-3-2 VADP Command Parameters</a></li>
</ul>
<div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_Figure_List"></a>
Figure List</h2>
<ul>
<li><a href="#figure_2_1_1">Figure 2-1-1 One Wire UART Support</a></li>
<li><a href="#figure_2_1_2">Figure 2-1-2 SampleRate and Console Mode Config</a></li>
<li><a href="#figure_3_1_1">Figure 3-1-1 Enable RTK ChargerBox</a></li>
<li><a href="#figure_3_1_2">Figure 3-1-2 VADP 5V Support</a></li>
<li><a href="#figure_3_1_3">Figure 3-1-3 VADP IO Support</a></li>
</ul>
<div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_Glossary"></a>
Glossary</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Terms  </th><th class="markdownTableHeadCenter">Definitions   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">CMD  </td><td class="markdownTableBodyCenter">command   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyCenter">UART  </td><td class="markdownTableBodyCenter">Universal Asynchronous Receiver/Transmitter   </td></tr>
</table>
<div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_Introduction"></a>
1 Introduction</h2>
<p>The purpose of this document is to give an overview of One Wire UART function.</p>
<div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_Control"></a>
2 One Wire UART Control</h2>
<p>This section discribes the controller of One Wire UART. <br />
</p>
<h3><a class="anchor" id="One_Wire_UART_McuConfigTool_Configuration"></a>
2.1 McuConfigTool Configuration</h3>
<p>One wire uart mode can be enabled in "HW Feature" page as shown in figure 2-1-1. </p><div class="image">
<img src="One_Wire_UART_Support.jpg" alt="One_Wire_UART_Support.jpg"/>
</div>
 <center><div id="figure_2_1_1"><b>Figure 2-1-1 One Wire UART Support</b></div></center><p>One wire uart baud rate and console mode can be set in "Peripheral" page as shown in figure 2-1-2. <br />
 The highest baud rate is 2Mbps, suggest to set 115200bps. </p><div class="image">
<img src="Baud_Rate_and_Console_Mode_Config.jpg" alt="Baud_Rate_and_Console_Mode_Config.jpg"/>
</div>
 <center><div id="figure_2_1_2"><b>Figure 2-1-2 Baud Rate and Console Mode Config</b></div></center><h3><a class="anchor" id="One_Wire_UART_PINMUX_Configuration"></a>
2.2 PINMUX_Config Configuration</h3>
<p>If want to use one wire uart, need to set app_cfg_const.one_wire_uart_data_pinmux, and switch pinmux to UART mode between TX and RX. <br />
</p>
<h3><a class="anchor" id="One_Wire_UART_Source_Code_Overview"></a>
2.3 Source Code Overview</h3>
<p>This section discribes the main parts of One Wire UART source code.</p>
<h4><a class="anchor" id="One_Wire_UART_Init_and_Deinit"></a>
2.3.1 Init and deinit</h4>
<p>When system initialization, app one wire uart will be initialized, but it won't opened. <br />
</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga48ffe093187156d438e4afd10063b4f9">app_one_wire_uart_init</a>(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___b_t___b_t_m.html#gad5518472fde08b8e93d5fc9c40d72f85">bt_mgr_cback_register</a>(app_one_wire_bt_cback);</div><div class="line">    <a class="code" href="group___s_y_s_t_e_m___m_a_n_a_g_e_r.html#ga6b27ecfe7b3dfa93341db098f907a839">sys_mgr_cback_register</a>(app_one_wire_dm_cback);</div><div class="line">    <a class="code" href="group___h_a_l__87x3_d___p_m___exported___functions.html#ga05d2d76fcef72ca3e9eeec23e095b185">power_check_cb_register</a>(app_one_wire_uart_dlps_check_cb);</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#gae4a71d3b7d417eaa89e82324a14bf38e">app_one_wire_uart_deinit</a>(<span class="keywordtype">void</span>);</div><div class="line"></div><div class="line"><span class="comment">//handle enter dlps callback, not enter dlps when one wire uart opened</span></div><div class="line"><span class="keyword">static</span> <span class="keywordtype">bool</span> app_one_wire_uart_dlps_check_cb(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordflow">return</span> (<a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#gac03d1bc42ca1ea5d48c20d734ddb798b">one_wire_state</a> != <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ggaa41c028df11dab7297ccbeb218e41c27a60667ed85a50892f5fef00861e695005">ONE_WIRE_STATE_IN_ONE_WIRE</a>);</div><div class="line">}</div></div><!-- fragment --><h4><a class="anchor" id="One_Wire_UART_Open_and_Close"></a>
2.3.2 Open and Close</h4>
<p>Call the following APIs to open and close one wire uart. <br />
</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga1a14e3fa6fe5a55d19b91e05d57bdbeb">app_one_wire_uart_open</a>(<span class="keywordtype">void</span>);</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga14d4338a34ef9dcc08ccebe3eee3224b">app_one_wire_uart_close</a>(<span class="keywordtype">void</span>);</div></div><!-- fragment --><h4><a class="anchor" id="One_Wire_UART_Switch_TX_RX_Mode"></a>
2.3.3 Switch TX or RX mode</h4>
<p>Use the following APIs to switch uart to TX or RX mode. <br />
</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> app_one_wire_uart_switch_pinmux(<a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#gab14cd6888bcda979f357cc4b9d630712">T_ONE_WIRE_UART_TYPE</a> type);</div></div><!-- fragment --><div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_Scenario_for_RTK_Smart_ChargerBox"></a>
3 One Wire UART Scenario for RTK Smart ChargerBox</h2>
<p>This section discribes the use of one wire uart, which is for RTK Smart ChargerBox. <br />
</p>
<h3><a class="anchor" id="Adp_One_Wire_UART_McuConfigTool_Configuration"></a>
3.1 Adp One Wire McuConfigTool Configuration</h3>
<p>Enable RTK ChargerBox and set Charger box detect method as Adaptor detect in "HW Feature" page as shown in figure 3-1-1. </p><div class="image">
<img src="Enable_RTK_ChargerBox.jpg" alt="Enable_RTK_ChargerBox.jpg"/>
</div>
 <center><div id="figure_3_1_1"><b>Figure 3-1-1 Enable RTK ChargerBox</b></div></center><p>VADP 5V support can be set in "Charger" page as shown in figure 3-1-2. </p><div class="image">
<img src="VADP_5V_Support.jpg" alt="VADP_5V_Support.jpg"/>
</div>
 <center><div id="figure_3_1_2"><b>Figure 3-1-2 VADP 5V Support</b></div></center><p>VADP IO support can be set in "Charger" page as shown in figure 3-1-3. </p><div class="image">
<img src="VADP_IO_Support.jpg" alt="VADP_IO_Support.jpg"/>
</div>
 <center><div id="figure_3_1_3"><b>Figure 3-1-3 VADP IO Support</b></div></center><h3><a class="anchor" id="Adp_One_Wire_UART_PINMUX_Configuration"></a>
3.2 Adp One Wire PINMUX_Config Configuration</h3>
<p>One wire UART pinmux is currently bonding to specific pad because RTK Smart ChargerBox scenario uses VADP io to detect in/out case. <br />
</p>
<p>For 87x3e series IC, it's bonding to P10_0 pad. <br />
 For 87x3d series IC, it's bonding to P_UART pad. <br />
 For 87x3g series IC, it's bonding to P10_0 pad. <br />
</p>
<h3><a class="anchor" id="Adp_One_Wire_UART_Source_Code_Overview"></a>
3.3 Adp One Wire Source Code Overview</h3>
<p>This section discribes the main parts of Adp One Wire UART source code.</p>
<h4><a class="anchor" id="Adp_One_Wire_UART_Open_and_Close"></a>
3.3.1 Adp One Wire UART Open and Close</h4>
<p>One wire uart will be dynamic enable and disable by the voltage level of VADP. <br />
</p>
<p>there are 4 scenarios: <br />
 case1: VADP 5v unplug and VADP io plug, will be considered in case. <br />
 case2: VADP 5v plug and VADP io plug, will be considered in case. <br />
 case3: VADP 5v unplug and VADP io unplug, will be considered out case. <br />
 case4: VADP 5v plug and VADP io unplug, will be considered out case. <br />
</p>
<p>case1 : call <a class="el" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga1a14e3fa6fe5a55d19b91e05d57bdbeb" title="open One-wire UART. ">app_one_wire_uart_open()</a> to open VADP one wire uart. <br />
 case 2/3/4 : call <a class="el" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga14d4338a34ef9dcc08ccebe3eee3224b" title="close One-wire UART. ">app_one_wire_uart_close()</a> to close VADP one wire uart. <br />
</p>
<h4><a class="anchor" id="Adp_One_Wire_UART_CMD_Handle"></a>
3.3.2 Adp One Wire UART CMD Handle</h4>
<p>Adp one wire uart command will be Processed from the following API. <br />
</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga8aea73ed97c2ae258a11a04f2229bdc0">app_one_wire_cmd_handle</a>(uint8_t *cmd_ptr, uint16_t cmd_len, uint8_t cmd_path, uint8_t app_idx, uint8_t *ack_pkt);</div><div class="line"></div><div class="line">parameters:</div><div class="line">    cmd_ptr: command pointer</div><div class="line">    cmd_len: command length</div><div class="line">    cmd_path: command path use <span class="keywordflow">for</span> distinguish uart,or le,or spp channel.</div><div class="line">    app_idx: received rx command device index</div><div class="line">    ack_pkt: command ack</div></div><!-- fragment --><h4><a class="anchor" id="Adp_One_Wire_UART_CMD_Format"></a>
3.3.3 Adp One Wire UART CMD Format</h4>
<p>Adp one wire uart command format is same with VENDOR CMD SET. <br />
 Detailed formatting instructions can be found in the table below. <br />
 </p><center><div id="table_3_3_3_1"><b>Table 3-3-3-1 VADP Command Format</b></div></center> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Command  </th><th class="markdownTableHeadLeft">Command ID  </th><th class="markdownTableHeadLeft">Command Parameters  </th><th class="markdownTableHeadLeft">Return Event   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">CMD_ADP_CMD_CONTROL  </td><td class="markdownTableBodyLeft">0x0F03  </td><td class="markdownTableBodyLeft">uint16_t adp_cmd_id, uint8_t payload  </td><td class="markdownTableBodyLeft">NONE   </td></tr>
</table>
<center><div id="table_3_3_3_2"><b>Table 3-3-3-2 VADP Command Parameters</b></div></center> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">adp_cmd_id (Value)  </th><th class="markdownTableHeadLeft">Parameter Description  </th><th class="markdownTableHeadLeft">payload   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0x0000  </td><td class="markdownTableBodyLeft">AD2B_CMD_NONE  </td><td class="markdownTableBodyLeft">NONE   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">0x0001  </td><td class="markdownTableBodyLeft">AD2B_CMD_FACTORY_RESET  </td><td class="markdownTableBodyLeft">0x55   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0x0003  </td><td class="markdownTableBodyLeft">AD2B_CMD_OPEN_CASE  </td><td class="markdownTableBodyLeft">Bit[7]: case charger state <br />
 0: charging 1: not charging <br />
 Bit[6:0]: case battery   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">0x0004  </td><td class="markdownTableBodyLeft">AD2B_CMD_CLOSE_CASE  </td><td class="markdownTableBodyLeft">Bit[7:2]: 0x15 <br />
 Bit[1]: <br />
 0: right out case 1: right in case <br />
 Bit[0]: <br />
 0: left out case 1: left in case   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0x0006  </td><td class="markdownTableBodyLeft">AD2B_CMD_ENTER_PAIRING  </td><td class="markdownTableBodyLeft">0x55   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">0x0008  </td><td class="markdownTableBodyLeft">AD2B_CMD_ENTER_DUT_MODE  </td><td class="markdownTableBodyLeft">0xAA: enter DUT mode <br />
 0x55: ON <br />
 0x65: OFF   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0x000A  </td><td class="markdownTableBodyLeft">AD2B_CMD_USB_STATE  </td><td class="markdownTableBodyLeft">0x05: USB IN <br />
 0x70: USB OUT   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">0x000B  </td><td class="markdownTableBodyLeft">AD2B_CMD_OTA_TOOLING  </td><td class="markdownTableBodyLeft">RTK internal use   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0x000D  </td><td class="markdownTableBodyLeft">AD2B_CMD_CASE_CHARGER  </td><td class="markdownTableBodyLeft">Bit[7]: case charger state <br />
 0: charging 1: not charging<br />
 Bit[6:0]: case battery   </td></tr>
</table>
<div style="page-break-after: always;"></div><h2><a class="anchor" id="One_Wire_UART_Scenario_for_Bud_Aging_Test"></a>
4 One Wire UART Scenario for Buds Aging Test</h2>
<p>This section discribes the use of one wire uart, which is for Buds Aging Test. <br />
</p>
<h3><a class="anchor" id="One_Wire_UART_Introduction_Of_Aging_Test"></a>
4.1 Introduction of Aging Test</h3>
<p>Use Aging Test command to test the durability of buds or headset.</p>
<p>During the aging test, the device will repeat the following actions, action 1: Start BLE aging test adv with minumum adv interval. action 2: Play a voice prompt with maximum volume. action 3: Enable microphone bias.</p>
<h3><a class="anchor" id="One_Wire_UART_Aging_Test_Source_Code_Overview"></a>
4.2 Source Code Overview</h3>
<p>This section discribes the main parts of One Wire UART Buds Aging Test source code.</p>
<h4><a class="anchor" id="One_Wire_UART_Aging_Test_Start_and_Stop"></a>
4.2.1 Start and stop aging test</h4>
<p>Call the following APIs to start and stop aging test. <br />
</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#gad33eb99191aac2a87d4ba7490b96e511">app_one_wire_start_aging_test</a>(<span class="keywordtype">void</span>);</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga9149965954910499dab409f211003e8a">app_one_wire_stop_aging_test</a>(<span class="keywordtype">bool</span> aging_test_done);</div><div class="line"></div><div class="line">parameters:</div><div class="line">    aging_test_done:</div><div class="line">        <span class="keyword">true</span>: the aging test is finished.</div><div class="line">        <span class="keyword">false</span>: temporary stop the aging test.</div></div><!-- fragment --><h4><a class="anchor" id="One_Wire_UART_Aging_Test_Get_State"></a>
4.2.2 Get aging test state</h4>
<p>Get the current state of aging test <br />
</p>
<div class="fragment"><div class="line"><a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga3665df6a3175545f70075d7f6d9ba6fe">T_ONE_WIRE_AGING_TEST_STATE</a> <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga3a8fc854f009d2f8a3ee0f03a84e7401">app_one_wire_get_aging_test_state</a>(<span class="keywordtype">void</span>);</div><div class="line"></div><div class="line"><span class="keywordflow">return</span>:</div><div class="line">    <span class="keyword">typedef</span> <span class="keyword">enum</span></div><div class="line">    {</div><div class="line">        <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#gga3665df6a3175545f70075d7f6d9ba6feac1b815d414fb95012e467c942ddf82ba">ONE_WIRE_AGING_TEST_STATE_STOPED</a>    = 0x00,</div><div class="line">        <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#gga3665df6a3175545f70075d7f6d9ba6fea7a7329484307bd8d4258e3d2219462f0">ONE_WIRE_AGING_TEST_STATE_TESTING</a>   = 0x01,</div><div class="line">    } <a class="code" href="group___a_p_p___o_n_e___w_i_r_e___u_a_r_t.html#ga3665df6a3175545f70075d7f6d9ba6fe">T_ONE_WIRE_AGING_TEST_STATE</a>;</div></div><!-- fragment --> </div></div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
