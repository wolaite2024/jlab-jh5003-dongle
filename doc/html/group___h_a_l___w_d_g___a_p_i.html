<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: WDT api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">WDT api<div class="ingroups"><a class="el" href="group___a_p_i___reference.html">API Reference</a> &raquo; <a class="el" href="group___h_a_l.html">Hal</a> &raquo; <a class="el" href="group___h_a_l___p_l_a_t_f_o_r_m.html">platform</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This file introduces the watchdog Timer(WDG) APIs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group___h_a_l___w_d_g___a_p_i___exported___functions"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html">WDG Api</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga7b32b43d264b024b63274bff8f0dcb94"><td class="memItemLeft" align="right" valign="top">typedef enum <a class="el" href="group___h_a_l___w_d_g___a_p_i.html#ga7e84a0d3ffda2c32d57debffd582c5c6">_WDG_MODE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___w_d_g___a_p_i.html#ga7b32b43d264b024b63274bff8f0dcb94">T_WDG_MODE</a></td></tr>
<tr class="separator:ga7b32b43d264b024b63274bff8f0dcb94"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga7e84a0d3ffda2c32d57debffd582c5c6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_a_l___w_d_g___a_p_i.html#ga7e84a0d3ffda2c32d57debffd582c5c6">_WDG_MODE</a> { <br />
&#160;&#160;<a class="el" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6aa67a6ebdfe4728ba9fb174b9037579b4">INTERRUPT_CPU</a> = 0, 
<br />
&#160;&#160;<a class="el" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6ae3821a7a56fa2ee585cd88ae188f2ebe">RESET_ALL_EXCEPT_AON</a> = 1, 
<br />
&#160;&#160;<a class="el" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6a8a71cce5615bd28391b430f62a5d860a">RESET_CORE_DOMAIN</a> = 2, 
<br />
&#160;&#160;<a class="el" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6a54db1b98fbfcbee9cf5160e9221996bd">RESET_ALL</a> = 3
<br />
 }</td></tr>
<tr class="separator:ga7e84a0d3ffda2c32d57debffd582c5c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This file introduces the watchdog Timer(WDG) APIs. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga7b32b43d264b024b63274bff8f0dcb94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b32b43d264b024b63274bff8f0dcb94">&#9670;&nbsp;</a></span>T_WDG_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group___h_a_l___w_d_g___a_p_i.html#ga7e84a0d3ffda2c32d57debffd582c5c6">_WDG_MODE</a>  <a class="el" href="group___h_a_l___w_d_g___a_p_i.html#ga7b32b43d264b024b63274bff8f0dcb94">T_WDG_MODE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="WDG_API_Usage_Chapter"></a>
How to use this module.</h1>
<p>There are two hardware behaviors based on the supported mode configuration after the timer times out or soft reset register is set:</p><ul>
<li>Reset all: In this mode, a hardware reset signal will be triggered by WDT hardware, and the system,including DSP, MCU will reboot.</li>
<li>Interrupt mode: In this mode, an interrupt will be triggered by WDT hardware. This mode is usually used for debugging. The MCU subsystem, MCU peripheral and DSP subsystem will be reset after dumping debug information .</li>
<li>sample code: <div class="fragment"><div class="line"><span class="comment">//get WDG default mode</span></div><div class="line">uint8_t wdg_default_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga2d639ea5a09bd528a48079ce510a8d88">wdg_get_default_mode</a>();</div><div class="line"></div><div class="line"><span class="comment">//get WDG current mode</span></div><div class="line">uint8_t wdg_current_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga97dc308ee38e394d54977c2d9b7a23d5">wdg_get_mode</a>();</div><div class="line"></div><div class="line"><span class="comment">//get WDG default timeout value</span></div><div class="line">uint8_t wdg_default_timeout_value_ms = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga5b5c4f06f1583a6c0f0b2fb82bf85112">wdg_get_default_timeout_ms</a>();</div><div class="line"></div><div class="line"><span class="comment">//get WDG current timeout value</span></div><div class="line">uint8_t wdg_current_timeout_value_ms = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga5b5c4f06f1583a6c0f0b2fb82bf85112">wdg_get_default_timeout_ms</a>();</div><div class="line"></div><div class="line"><span class="comment">//swtich WDG mode to interrupt mode</span></div><div class="line">uint8_t wdg_current_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga97dc308ee38e394d54977c2d9b7a23d5">wdg_get_mode</a>();</div><div class="line"><span class="keywordflow">if</span>(wdg_current_mode != <a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6aa67a6ebdfe4728ba9fb174b9037579b4">INTERRUPT_CPU</a>)</div><div class="line">{</div><div class="line">     <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#gad4b9658c57e64640185764aed92f7053">wdg_change_mode</a>(<a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6aa67a6ebdfe4728ba9fb174b9037579b4">INTERRUPT_CPU</a>);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">     <span class="comment">//error handle</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//swtich WDG mode to reset mode</span></div><div class="line">uint8_t wdg_current_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga97dc308ee38e394d54977c2d9b7a23d5">wdg_get_mode</a>();</div><div class="line"><span class="keywordflow">if</span>(wdg_current_mode != <a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6a54db1b98fbfcbee9cf5160e9221996bd">RESET_ALL</a>)</div><div class="line">{</div><div class="line">     <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#gad4b9658c57e64640185764aed92f7053">wdg_change_mode</a>(<a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6a54db1b98fbfcbee9cf5160e9221996bd">RESET_ALL</a>);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">     <span class="comment">//error handle</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//change WDG timeout value to 10000ms(10s)</span></div><div class="line"><a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#gaf04973654546717ff7c82319ae3e9741">wdg_change_timeout_period</a>(10000)</div><div class="line"></div><div class="line"><span class="comment">//disable WDG if user wants to disable the WDG</span></div><div class="line"><a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga519f15c95d646baeefc21f151477d817">wdg_disable</a>();</div><div class="line"></div><div class="line"><span class="comment">//enable WDG if user disabled WDG before</span></div><div class="line"><a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga519f15c95d646baeefc21f151477d817">wdg_disable</a>();</div><div class="line"><span class="comment">//do something here</span></div><div class="line">wdg_ebable();</div><div class="line"></div><div class="line"><span class="comment">//kick WDG if user wants to reset WDG timeout value</span></div><div class="line"> <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga34de4d486f8121046c47cbdced084d67">wdg_kick</a>();</div></div><!-- fragment --> </li>
</ul>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga7e84a0d3ffda2c32d57debffd582c5c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7e84a0d3ffda2c32d57debffd582c5c6">&#9670;&nbsp;</a></span>_WDG_MODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___h_a_l___w_d_g___a_p_i.html#ga7e84a0d3ffda2c32d57debffd582c5c6">_WDG_MODE</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<h1><a class="anchor" id="WDG_API_Usage_Chapter"></a>
How to use this module.</h1>
<p>There are two hardware behaviors based on the supported mode configuration after the timer times out or soft reset register is set:</p><ul>
<li>Reset all: In this mode, a hardware reset signal will be triggered by WDT hardware, and the system,including DSP, MCU will reboot.</li>
<li>Interrupt mode: In this mode, an interrupt will be triggered by WDT hardware. This mode is usually used for debugging. The MCU subsystem, MCU peripheral and DSP subsystem will be reset after dumping debug information .</li>
<li>sample code: <div class="fragment"><div class="line"><span class="comment">//get WDG default mode</span></div><div class="line">uint8_t wdg_default_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga2d639ea5a09bd528a48079ce510a8d88">wdg_get_default_mode</a>();</div><div class="line"></div><div class="line"><span class="comment">//get WDG current mode</span></div><div class="line">uint8_t wdg_current_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga97dc308ee38e394d54977c2d9b7a23d5">wdg_get_mode</a>();</div><div class="line"></div><div class="line"><span class="comment">//get WDG default timeout value</span></div><div class="line">uint8_t wdg_default_timeout_value_ms = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga5b5c4f06f1583a6c0f0b2fb82bf85112">wdg_get_default_timeout_ms</a>();</div><div class="line"></div><div class="line"><span class="comment">//get WDG current timeout value</span></div><div class="line">uint8_t wdg_current_timeout_value_ms = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga5b5c4f06f1583a6c0f0b2fb82bf85112">wdg_get_default_timeout_ms</a>();</div><div class="line"></div><div class="line"><span class="comment">//swtich WDG mode to interrupt mode</span></div><div class="line">uint8_t wdg_current_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga97dc308ee38e394d54977c2d9b7a23d5">wdg_get_mode</a>();</div><div class="line"><span class="keywordflow">if</span>(wdg_current_mode != <a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6aa67a6ebdfe4728ba9fb174b9037579b4">INTERRUPT_CPU</a>)</div><div class="line">{</div><div class="line">     <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#gad4b9658c57e64640185764aed92f7053">wdg_change_mode</a>(<a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6aa67a6ebdfe4728ba9fb174b9037579b4">INTERRUPT_CPU</a>);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">     <span class="comment">//error handle</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//swtich WDG mode to reset mode</span></div><div class="line">uint8_t wdg_current_mode = <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga97dc308ee38e394d54977c2d9b7a23d5">wdg_get_mode</a>();</div><div class="line"><span class="keywordflow">if</span>(wdg_current_mode != <a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6a54db1b98fbfcbee9cf5160e9221996bd">RESET_ALL</a>)</div><div class="line">{</div><div class="line">     <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#gad4b9658c57e64640185764aed92f7053">wdg_change_mode</a>(<a class="code" href="group___h_a_l___w_d_g___a_p_i.html#gga7e84a0d3ffda2c32d57debffd582c5c6a54db1b98fbfcbee9cf5160e9221996bd">RESET_ALL</a>);</div><div class="line">}</div><div class="line"><span class="keywordflow">else</span></div><div class="line">{</div><div class="line">     <span class="comment">//error handle</span></div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">//change WDG timeout value to 10000ms(10s)</span></div><div class="line"><a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#gaf04973654546717ff7c82319ae3e9741">wdg_change_timeout_period</a>(10000)</div><div class="line"></div><div class="line"><span class="comment">//disable WDG if user wants to disable the WDG</span></div><div class="line"><a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga519f15c95d646baeefc21f151477d817">wdg_disable</a>();</div><div class="line"></div><div class="line"><span class="comment">//enable WDG if user disabled WDG before</span></div><div class="line"><a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga519f15c95d646baeefc21f151477d817">wdg_disable</a>();</div><div class="line"><span class="comment">//do something here</span></div><div class="line">wdg_ebable();</div><div class="line"></div><div class="line"><span class="comment">//kick WDG if user wants to reset WDG timeout value</span></div><div class="line"> <a class="code" href="group___h_a_l___w_d_g___a_p_i___exported___functions.html#ga34de4d486f8121046c47cbdced084d67">wdg_kick</a>();</div></div><!-- fragment --> </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga7e84a0d3ffda2c32d57debffd582c5c6aa67a6ebdfe4728ba9fb174b9037579b4"></a>INTERRUPT_CPU&#160;</td><td class="fielddoc"><p>Interrupt CPU only </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7e84a0d3ffda2c32d57debffd582c5c6ae3821a7a56fa2ee585cd88ae188f2ebe"></a>RESET_ALL_EXCEPT_AON&#160;</td><td class="fielddoc"><p>Reset all except RTC and some AON register </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7e84a0d3ffda2c32d57debffd582c5c6a8a71cce5615bd28391b430f62a5d860a"></a>RESET_CORE_DOMAIN&#160;</td><td class="fielddoc"><p>Reset core domain </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7e84a0d3ffda2c32d57debffd582c5c6a54db1b98fbfcbee9cf5160e9221996bd"></a>RESET_ALL&#160;</td><td class="fielddoc"><p>Reset all </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
