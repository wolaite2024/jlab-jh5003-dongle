<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: GATT Server Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GATT Server Exported Functions<div class="ingroups"><a class="el" href="group___a_p_i___reference.html">API Reference</a> &raquo; <a class="el" href="group___b_l_u_e_t_o_o_t_h.html">Bluetooth</a> &raquo; <a class="el" href="group___p_r_o_f_i_l_e___a_p_i.html">Profile</a> &raquo; <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___a_p_i.html">GATT Server API</a> &raquo; <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___l_e_g_a_c_y___a_p_i.html">GATT Server Legacy API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0a1a154168440ec5d4621accfc44a5a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga0a1a154168440ec5d4621accfc44a5a0">server_add_service</a> (<a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> *p_out_service_id, uint8_t *p_database, uint16_t length, const <a class="el" href="struct_t___f_u_n___g_a_t_t___s_e_r_v_i_c_e___c_b_s.html">T_FUN_GATT_SERVICE_CBS</a> srv_cbs)</td></tr>
<tr class="memdesc:ga0a1a154168440ec5d4621accfc44a5a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register specific service without start handle.  <a href="#ga0a1a154168440ec5d4621accfc44a5a0">More...</a><br /></td></tr>
<tr class="separator:ga0a1a154168440ec5d4621accfc44a5a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga814694da2d926f0ae73fd3a14f0a50c7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga814694da2d926f0ae73fd3a14f0a50c7">server_add_service_by_start_handle</a> (uint8_t *p_out_service_id, uint8_t *p_database, uint16_t length, const <a class="el" href="struct_t___f_u_n___g_a_t_t___s_e_r_v_i_c_e___c_b_s.html">T_FUN_GATT_SERVICE_CBS</a> srv_cbs, uint16_t start_handle)</td></tr>
<tr class="memdesc:ga814694da2d926f0ae73fd3a14f0a50c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register specific service with start handle.  <a href="#ga814694da2d926f0ae73fd3a14f0a50c7">More...</a><br /></td></tr>
<tr class="separator:ga814694da2d926f0ae73fd3a14f0a50c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2fcbc3f5f19d9fdfb3e48923145e98f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga2fcbc3f5f19d9fdfb3e48923145e98f4">server_register_app_cb</a> (<a class="el" href="group___p___f_u_n___s_e_r_v_e_r___g_e_n_e_r_a_l___c_b.html#ga58463a252b3e4f0362285a5e7e8cf2dd">P_FUN_SERVER_GENERAL_CB</a> p_fun_cb)</td></tr>
<tr class="memdesc:ga2fcbc3f5f19d9fdfb3e48923145e98f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register callback function to send events to application.  <a href="#ga2fcbc3f5f19d9fdfb3e48923145e98f4">More...</a><br /></td></tr>
<tr class="separator:ga2fcbc3f5f19d9fdfb3e48923145e98f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86bef558ac767887aa490e560dac639d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga86bef558ac767887aa490e560dac639d">server_attr_read_confirm</a> (uint8_t conn_id, <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, uint16_t attrib_index, uint8_t *p_data, uint16_t data_len, <a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> cause)</td></tr>
<tr class="memdesc:ga86bef558ac767887aa490e560dac639d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm from application when receiving a read request from client.  <a href="#ga86bef558ac767887aa490e560dac639d">More...</a><br /></td></tr>
<tr class="separator:ga86bef558ac767887aa490e560dac639d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa5bea3d4101d8cac8ee469eb336004c0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#gaa5bea3d4101d8cac8ee469eb336004c0">server_exec_write_confirm</a> (uint8_t conn_id, uint16_t cause, uint16_t handle)</td></tr>
<tr class="memdesc:gaa5bea3d4101d8cac8ee469eb336004c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm from application when receiving an Execute Write Request from the client.  <a href="#gaa5bea3d4101d8cac8ee469eb336004c0">More...</a><br /></td></tr>
<tr class="separator:gaa5bea3d4101d8cac8ee469eb336004c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9898ababb9fd56ed9edbbb6a019f4eed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga9898ababb9fd56ed9edbbb6a019f4eed">server_attr_write_confirm</a> (uint8_t conn_id, <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, uint16_t attrib_index, <a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> cause)</td></tr>
<tr class="memdesc:ga9898ababb9fd56ed9edbbb6a019f4eed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Confirm from application when receiving a Write Request from the client.  <a href="#ga9898ababb9fd56ed9edbbb6a019f4eed">More...</a><br /></td></tr>
<tr class="separator:ga9898ababb9fd56ed9edbbb6a019f4eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60d379433a73a0e377e4ad3dda22ac1c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga60d379433a73a0e377e4ad3dda22ac1c">server_send_data</a> (uint8_t conn_id, <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, uint16_t attrib_index, uint8_t *p_data, uint16_t data_len, <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gadc8629288ad4dc04523014696c756e04">T_GATT_PDU_TYPE</a> type)</td></tr>
<tr class="memdesc:ga60d379433a73a0e377e4ad3dda22ac1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send characteristic value to peer device.  <a href="#ga60d379433a73a0e377e4ad3dda22ac1c">More...</a><br /></td></tr>
<tr class="separator:ga60d379433a73a0e377e4ad3dda22ac1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafadc4b0ba9b63293034e4cc90460cbfe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#gafadc4b0ba9b63293034e4cc90460cbfe">server_get_write_cmd_data_buffer</a> (uint8_t conn_id, uint8_t **pp_buffer, uint16_t *p_offset)</td></tr>
<tr class="memdesc:gafadc4b0ba9b63293034e4cc90460cbfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the header point of the write command data buffer. This function is used to get the buffer point of the write command data. This function only can be called in write_attr_cb.  <a href="#gafadc4b0ba9b63293034e4cc90460cbfe">More...</a><br /></td></tr>
<tr class="separator:gafadc4b0ba9b63293034e4cc90460cbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08aec168923b98ec31cb0edbb83591df"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga08aec168923b98ec31cb0edbb83591df">server_send_multi_notify</a> (uint8_t conn_id, uint8_t *p_data, uint16_t data_len)</td></tr>
<tr class="memdesc:ga08aec168923b98ec31cb0edbb83591df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the multiple variable notification.  <a href="#ga08aec168923b98ec31cb0edbb83591df">More...</a><br /></td></tr>
<tr class="separator:ga08aec168923b98ec31cb0edbb83591df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga457e9c205e883ef62bdd25a55efd8058"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga457e9c205e883ef62bdd25a55efd8058">server_get_cccd_info</a> (uint8_t conn_id, <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, uint16_t attrib_index, uint16_t *p_cccd)</td></tr>
<tr class="memdesc:ga457e9c205e883ef62bdd25a55efd8058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the CCCD information.  <a href="#ga457e9c205e883ef62bdd25a55efd8058">More...</a><br /></td></tr>
<tr class="separator:ga457e9c205e883ef62bdd25a55efd8058"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga0a1a154168440ec5d4621accfc44a5a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0a1a154168440ec5d4621accfc44a5a0">&#9670;&nbsp;</a></span>server_add_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_add_service </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> *&#160;</td>
          <td class="paramname"><em>p_out_service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_t___f_u_n___g_a_t_t___s_e_r_v_i_c_e___c_b_s.html">T_FUN_GATT_SERVICE_CBS</a>&#160;</td>
          <td class="paramname"><em>srv_cbs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register specific service without start handle. </p>
<p>Add specific service information to gatt_svc_table struct, will be registered to GATT later.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_out_service_id</td><td>Service ID of specific service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_database</td><td>Database pointer of specific service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Length of Database of specific service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srv_cbs</td><td>Service callback functions of specific service. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Add service success. </td></tr>
    <tr><td class="paramname">false</td><td>Add service failed.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> <a class="code" href="group___b_a_s___exported___functions.html#ga718af7cba22ef1b332212967d11b0504">bas_add_service</a>(<span class="keywordtype">void</span> *p_func)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id;</div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga0a1a154168440ec5d4621accfc44a5a0">server_add_service</a>(&amp;service_id,</div><div class="line">                                   (uint8_t *)bas_attr_tbl,</div><div class="line">                                   bas_attr_tbl_size,</div><div class="line">                                   bas_cbs))</div><div class="line">    {</div><div class="line">        <a class="code" href="group__x3d___t_r_a_c_e.html#ga57c6954e0ebb68c0ca06a0052659be48">APP_PRINT_ERROR1</a>(<span class="stringliteral">&quot;bas_add_service: service_id %d&quot;</span>, service_id);</div><div class="line">        service_id = 0xff;</div><div class="line">    }</div><div class="line">    pfn_bas_cb = (<a class="code" href="group___p___f_u_n___s_e_r_v_e_r___g_e_n_e_r_a_l___c_b.html#ga58463a252b3e4f0362285a5e7e8cf2dd">P_FUN_SERVER_GENERAL_CB</a>)p_func;</div><div class="line">    <span class="keywordflow">return</span> service_id;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga814694da2d926f0ae73fd3a14f0a50c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga814694da2d926f0ae73fd3a14f0a50c7">&#9670;&nbsp;</a></span>server_add_service_by_start_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_add_service_by_start_handle </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_out_service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_database</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_t___f_u_n___g_a_t_t___s_e_r_v_i_c_e___c_b_s.html">T_FUN_GATT_SERVICE_CBS</a>&#160;</td>
          <td class="paramname"><em>srv_cbs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>start_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register specific service with start handle. </p>
<p>Add specific service information to gatt_svc_table struct, will be registered to GATT later.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_out_service_id</td><td>Service ID of specific service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_database</td><td>Database pointer of specific service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Length of Database of specific service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">srv_cbs</td><td>Service callback functions of specific service. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">start_handle</td><td>Start handle of this service. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Add service success. </td></tr>
    <tr><td class="paramname">false</td><td>Add service failed.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> <a class="code" href="group___b_a_s___exported___functions.html#ga718af7cba22ef1b332212967d11b0504">bas_add_service</a>(<span class="keywordtype">void</span> *p_func)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id;</div><div class="line">    <span class="keywordflow">if</span> (<span class="keyword">false</span> == <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga814694da2d926f0ae73fd3a14f0a50c7">server_add_service_by_start_handle</a>(&amp;service_id,</div><div class="line">                                   (uint8_t *)bas_attr_tbl,</div><div class="line">                                   bas_attr_tbl_size,</div><div class="line">                                   bas_cbs, 0x00f0))</div><div class="line">    {</div><div class="line">        <a class="code" href="group__x3d___t_r_a_c_e.html#ga57c6954e0ebb68c0ca06a0052659be48">APP_PRINT_ERROR1</a>(<span class="stringliteral">&quot;bas_add_service: service_id %d&quot;</span>, service_id);</div><div class="line">        service_id = 0xff;</div><div class="line">    }</div><div class="line">    pfn_bas_cb = (<a class="code" href="group___p___f_u_n___s_e_r_v_e_r___g_e_n_e_r_a_l___c_b.html#ga58463a252b3e4f0362285a5e7e8cf2dd">P_FUN_SERVER_GENERAL_CB</a>)p_func;</div><div class="line">    <span class="keywordflow">return</span> service_id;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga2fcbc3f5f19d9fdfb3e48923145e98f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fcbc3f5f19d9fdfb3e48923145e98f4">&#9670;&nbsp;</a></span>server_register_app_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void server_register_app_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___p___f_u_n___s_e_r_v_e_r___g_e_n_e_r_a_l___c_b.html#ga58463a252b3e4f0362285a5e7e8cf2dd">P_FUN_SERVER_GENERAL_CB</a>&#160;</td>
          <td class="paramname"><em>p_fun_cb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register callback function to send events to application. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_fun_cb</td><td>Callback function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void.</dd></dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> app_le_profile_init(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___functions.html#ga69f3a8c88a1c2d5255f87e69e135311b">server_init</a>(service_num);</div><div class="line">    simp_srv_id = <a class="code" href="group___s_i_m_p___service___exported___functions.html#ga67af3dc85c06595757de67de3e9918c6">simp_ble_service_add_service</a>(app_profile_callback);</div><div class="line">    <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga2fcbc3f5f19d9fdfb3e48923145e98f4">server_register_app_cb</a>(app_profile_callback);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga86bef558ac767887aa490e560dac639d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga86bef558ac767887aa490e560dac639d">&#9670;&nbsp;</a></span>server_attr_read_confirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_attr_read_confirm </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a>&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attrib_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a>&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirm from application when receiving a read request from client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID indicates which link it is. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_id</td><td>Service ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attrib_index</td><td>Attribute index of attribute to read confirm from application. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Point to the read value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_len</td><td>The length of the data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cause</td><td>Cause for read confirm. <a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Confirm from APP success. </td></tr>
    <tr><td class="paramname">false</td><td>Confirm from APP failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa5bea3d4101d8cac8ee469eb336004c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa5bea3d4101d8cac8ee469eb336004c0">&#9670;&nbsp;</a></span>server_exec_write_confirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_exec_write_confirm </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirm from application when receiving an Execute Write Request from the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID indicates which link it is. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cause</td><td>Cause for execute write confirm. <a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">handle</td><td>GATT attribute handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Confirm from APP success. </td></tr>
    <tr><td class="paramname">false</td><td>Confirm from APP failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga9898ababb9fd56ed9edbbb6a019f4eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9898ababb9fd56ed9edbbb6a019f4eed">&#9670;&nbsp;</a></span>server_attr_write_confirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_attr_write_confirm </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a>&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attrib_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a>&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Confirm from application when receiving a Write Request from the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID indicates which link it is. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_id</td><td>Service ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attrib_index</td><td>Attribute index of attribute to write confirm from application. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cause</td><td>Write request APP handle result, APP_RESULT_SUCCESS or other. <a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Confirm from APP success. </td></tr>
    <tr><td class="paramname">false</td><td>Confirm from APP failed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga60d379433a73a0e377e4ad3dda22ac1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60d379433a73a0e377e4ad3dda22ac1c">&#9670;&nbsp;</a></span>server_send_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_send_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a>&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attrib_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gadc8629288ad4dc04523014696c756e04">T_GATT_PDU_TYPE</a>&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send characteristic value to peer device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID indicates which link it is. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_id</td><td>Service ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attrib_index</td><td>Attribute index of characteristic. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Point to data to be sent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_len</td><td>Length of value to be sent, range: 0~(mtu_size - 3). uint16_t mtu_size is acquired by le_get_conn_param(GAP_PARAM_CONN_MTU_SIZE, &amp;mtu_size, conn_id). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type</td><td>GATT pdu type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data sent result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Success. </td></tr>
    <tr><td class="paramname">false</td><td>Failed.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code" href="group___b_a_s___exported___functions.html#gac7fc6dfb96aa2a4ed4de142a479c1ec1">bas_battery_level_value_notify</a>(uint8_t conn_id, uint8_t service_id, uint8_t battery_level)</div><div class="line">{</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga60d379433a73a0e377e4ad3dda22ac1c">server_send_data</a>(conn_id, service_id, GATT_SVC_BAS_BATTERY_LEVEL_INDEX, &amp;battery_level,</div><div class="line">                            <span class="keyword">sizeof</span>(battery_level), <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#ggadc8629288ad4dc04523014696c756e04a0822a5e97023e0da17c29e7485c36e52">GATT_PDU_TYPE_ANY</a>);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gafadc4b0ba9b63293034e4cc90460cbfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafadc4b0ba9b63293034e4cc90460cbfe">&#9670;&nbsp;</a></span>server_get_write_cmd_data_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_get_write_cmd_data_buffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>pp_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>p_offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the header point of the write command data buffer. This function is used to get the buffer point of the write command data. This function only can be called in write_attr_cb. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID indicates which link it is. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pp_buffer</td><td>Pointer to the address of the buffer. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_offset</td><td>Pointer to the offset of the data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Buffer get result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Success. </td></tr>
    <tr><td class="paramname">false</td><td>Failed.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line">uint8_t *p_data_buf;</div><div class="line">uint16_t data_offset;</div><div class="line"><a class="code" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> simp_ble_service_attr_write_cb(uint8_t conn_id, <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id,</div><div class="line">                                        uint16_t attrib_index, <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#ga07c105220cd4d1b097c670b9d2841114">T_WRITE_TYPE</a> write_type, uint16_t length, uint8_t *p_value,</div><div class="line">                                        <a class="code" href="group___p___f_u_n___w_r_i_t_e___i_n_d___p_o_s_t___p_r_o_c.html#gad0a0809497ada580e7025f1bff8ea913">P_FUN_WRITE_IND_POST_PROC</a> *p_write_ind_post_proc)</div><div class="line">{</div><div class="line">    ......</div><div class="line">    <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#gafadc4b0ba9b63293034e4cc90460cbfe">server_get_write_cmd_data_buffer</a>(conn_id, &amp;p_data_buf, &amp;data_offset);</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group___g_a_p___common___exported___types.html#gga90b0c39404615bbdf0fc222483ed3fb9a442a1718035f10e75424f258ee433b83">APP_RESULT_NOT_RELEASE</a>;</div><div class="line">}</div><div class="line"><span class="keywordtype">void</span> release(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span>(p_data_buf != <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___g_a_p___c_o_m_m_o_n___e_x_p_o_r_t___functions.html#ga999971d1b0923687fac4c5975143831f">gap_buffer_free</a>(p_data_buf);</div><div class="line">        p_data_buf = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga08aec168923b98ec31cb0edbb83591df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga08aec168923b98ec31cb0edbb83591df">&#9670;&nbsp;</a></span>server_send_multi_notify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_send_multi_notify </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>data_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send the multiple variable notification. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID indicates which link it is. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Point to data to be sent. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_len</td><td>Length of value to be sent, range: 0~(mtu_size - 1). uint16_t mtu_size is acquired by le_get_conn_param(GAP_PARAM_CONN_MTU_SIZE, &amp;mtu_size, conn_id). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Data sent result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Success. </td></tr>
    <tr><td class="paramname">false</td><td>Failed.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> simp_ble_service_send_v3_v8_notify(uint8_t conn_id, <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, <span class="keywordtype">void</span> *p_v3_value,</div><div class="line">                                        uint16_t v3_length, <span class="keywordtype">void</span> *p_v8_value, uint16_t v8_length)</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> ret;</div><div class="line">    uint8_t *p_value;</div><div class="line">    uint8_t *p_data;</div><div class="line">    uint16_t length = v3_length + v8_length + 2 * 4;</div><div class="line">    uint16_t handle;</div><div class="line"></div><div class="line">    p_value = <a class="code" href="group___o_s__87x3d___memory.html#gaa1a340c697ba158359b84f652091b934">os_mem_zalloc</a>(<a class="code" href="group__x3e___m_e_m___c_o_n_f_i_g___exported___types.html#gga20f6fc28665b1bdf8326a4826ba69b77a53394a9ecf33e56adc53407220bae73d">RAM_TYPE_DATA_ON</a>, length);</div><div class="line">    <span class="keywordflow">if</span> (p_value == <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">    }</div><div class="line">    p_data = p_value;</div><div class="line">    handle = <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___functions.html#ga5fd0c8616de60433af1c09853edb20b7">server_get_start_handle</a>(service_id) + SIMPLE_BLE_SERVICE_CHAR_V3_NOTIFY_INDEX;</div><div class="line">    <a class="code" href="group___b_t___b_y_t_e___o_r_d_e_r.html#gaa74124cb3708d9bac3ecc45849460342">LE_UINT16_TO_STREAM</a>(p_data, handle);</div><div class="line">    <a class="code" href="group___b_t___b_y_t_e___o_r_d_e_r.html#gaa74124cb3708d9bac3ecc45849460342">LE_UINT16_TO_STREAM</a>(p_data, v3_length);</div><div class="line">    memcpy(p_data, p_v3_value, v3_length);</div><div class="line">    p_data += v3_length;</div><div class="line"></div><div class="line">    handle = <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___functions.html#ga5fd0c8616de60433af1c09853edb20b7">server_get_start_handle</a>(service_id) + SIMPLE_BLE_SERVICE_CHAR_V8_NOTIFY_INDICATE_INDEX;</div><div class="line">    <a class="code" href="group___b_t___b_y_t_e___o_r_d_e_r.html#gaa74124cb3708d9bac3ecc45849460342">LE_UINT16_TO_STREAM</a>(p_data, handle);</div><div class="line">    <a class="code" href="group___b_t___b_y_t_e___o_r_d_e_r.html#gaa74124cb3708d9bac3ecc45849460342">LE_UINT16_TO_STREAM</a>(p_data, v8_length);</div><div class="line">    memcpy(p_data, p_v8_value, v8_length);</div><div class="line">    p_data += v8_length;</div><div class="line"></div><div class="line">    ret = <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga08aec168923b98ec31cb0edbb83591df">server_send_multi_notify</a>(conn_id, p_value, length);</div><div class="line">    <span class="keywordflow">if</span> (p_value)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___o_s__87x3e___memory___exported__functions.html#gaa24b3140450c6eda57a1365a6c3d9d26">os_mem_free</a>(p_value);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> ret;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga457e9c205e883ef62bdd25a55efd8058"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga457e9c205e883ef62bdd25a55efd8058">&#9670;&nbsp;</a></span>server_get_cccd_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool server_get_cccd_info </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a>&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attrib_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>p_cccd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the CCCD information. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID to indicate which link it is. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_id</td><td>Service ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attrib_index</td><td>Attribute index of the attribute to get CCCD. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_cccd</td><td>The CCCD information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Get success. </td></tr>
    <tr><td class="paramname">false</td><td>Get failed.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code" href="group___s_i_m_p___service___exported___functions.html#ga8d644966c8211083be66835b367d2f4c">simp_ble_service_send_v3_notify</a>(uint8_t conn_id, <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, <span class="keywordtype">void</span> *p_value,</div><div class="line">                                    uint16_t length)</div><div class="line">{</div><div class="line">    uint16_t cccd_bits;</div><div class="line">    <a class="code" href="group__x3d___t_r_a_c_e.html#ga5d77ab23ef056676a6860b9959404140">APP_PRINT_INFO0</a>(<span class="stringliteral">&quot;simp_ble_service_send_v3_notify&quot;</span>);</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga457e9c205e883ef62bdd25a55efd8058">server_get_cccd_info</a>(conn_id, service_id, SIMPLE_BLE_SERVICE_CHAR_NOTIFY_CCCD_INDEX,</div><div class="line">                            &amp;cccd_bits))</div><div class="line">    {</div><div class="line">        <a class="code" href="group__x3d___t_r_a_c_e.html#ga81687b044a4d8600c4be891734f4839a">APP_PRINT_INFO1</a>(<span class="stringliteral">&quot;simp_ble_service_send_v3_notify: cccd_bits 0x%x&quot;</span>, cccd_bits);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___exported___functions.html#ga60d379433a73a0e377e4ad3dda22ac1c">server_send_data</a>(conn_id, service_id, SIMPLE_BLE_SERVICE_CHAR_V3_NOTIFY_INDEX, p_value,</div><div class="line">                            length,</div><div class="line">                            <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#ggadc8629288ad4dc04523014696c756e04a0822a5e97023e0da17c29e7485c36e52">GATT_PDU_TYPE_ANY</a>);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
