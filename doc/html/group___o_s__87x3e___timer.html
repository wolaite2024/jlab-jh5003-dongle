<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: Timer Management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Timer Management<div class="ingroups"><a class="el" href="group___a_p_i___reference.html">API Reference</a> &raquo; <a class="el" href="group___o_s.html">OSIF</a> &raquo; <a class="el" href="group___o_s__87x3e.html">rtl87x3e</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Create and control software timer and timer callback functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga9e2cd1e0b2cf2b5e0e844832cd887886"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a> )(void **pp_handle, uint32_t *p_timer_id)</td></tr>
<tr class="memdesc:ga9e2cd1e0b2cf2b5e0e844832cd887886"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ID assigned to the timer when created.  <a href="#ga9e2cd1e0b2cf2b5e0e844832cd887886">More...</a><br /></td></tr>
<tr class="separator:ga9e2cd1e0b2cf2b5e0e844832cd887886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad03469cf9114fa107679c89e4482e328"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a> )(void **pp_handle, const char *p_timer_name, uint32_t timer_id, uint32_t interval_ms, bool reload, void(*p_timer_callback)(void *))</td></tr>
<tr class="memdesc:gad03469cf9114fa107679c89e4482e328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new software timer instance. This allocates the storage required by the new timer, initializes the new timers internal state, and returns a handle by which the new timer can be referenced.  <a href="#gad03469cf9114fa107679c89e4482e328">More...</a><br /></td></tr>
<tr class="separator:gad03469cf9114fa107679c89e4482e328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8dba7261241f9e845825ce01bc8da7be"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a> )(void **pp_handle)</td></tr>
<tr class="memdesc:ga8dba7261241f9e845825ce01bc8da7be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a timer that was previously created using the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function. If the timer had already been started and was in the active state, then <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> has equivalent functionality to the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function.  <a href="#ga8dba7261241f9e845825ce01bc8da7be">More...</a><br /></td></tr>
<tr class="separator:ga8dba7261241f9e845825ce01bc8da7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga274c0ceb34fa7b6f1d5c583ffc2bc5e5"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s__87x3e___timer.html#ga274c0ceb34fa7b6f1d5c583ffc2bc5e5">os_timer_restart</a> )(void **pp_handle, uint32_t interval_ms)</td></tr>
<tr class="memdesc:ga274c0ceb34fa7b6f1d5c583ffc2bc5e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restart a timer that was previously created using the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function. If the timer had already been started and was already in the active state, then <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> will cause the timer to re-evaluate its expiry time so that it is relative to when <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> was called. If the timer was in the dormant state then <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> has equivalent functionality to the <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> API function.  <a href="#ga274c0ceb34fa7b6f1d5c583ffc2bc5e5">More...</a><br /></td></tr>
<tr class="separator:ga274c0ceb34fa7b6f1d5c583ffc2bc5e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga651cc50e8812169b96653e9aa3f515c6"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s__87x3e___timer.html#ga651cc50e8812169b96653e9aa3f515c6">os_timer_stop</a> )(void **pp_handle)</td></tr>
<tr class="memdesc:ga651cc50e8812169b96653e9aa3f515c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a timer that was previously started using either of the <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a>, <a class="el" href="group___o_s__87x3e___timer.html#ga274c0ceb34fa7b6f1d5c583ffc2bc5e5" title="Restart a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was already in the active state, then os_timer_start() will cause the timer to re-evaluate its expiry time so that it is relative to when os_timer_start() was called. If the timer was in the dormant state then os_timer_start() has equivalent functionality to the os_timer_start() API function. ">os_timer_restart()</a> API functions. Stopping a timer ensures the timer is not in the active state.  <a href="#ga651cc50e8812169b96653e9aa3f515c6">More...</a><br /></td></tr>
<tr class="separator:ga651cc50e8812169b96653e9aa3f515c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16e4c6158f7cac5774287bef707120ec"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s__87x3e___timer.html#ga16e4c6158f7cac5774287bef707120ec">os_timer_delete</a> )(void **pp_handle)</td></tr>
<tr class="memdesc:ga16e4c6158f7cac5774287bef707120ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a timer that was previously created using the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function.  <a href="#ga16e4c6158f7cac5774287bef707120ec">More...</a><br /></td></tr>
<tr class="separator:ga16e4c6158f7cac5774287bef707120ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab00d0c3b12e60f96bd258cbf4886d991"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_s__87x3e___timer.html#gab00d0c3b12e60f96bd258cbf4886d991">os_timer_pend_function_call</a> )(void(*p_pend_function)(void *, uint32_t), void *pvParameter1, uint32_t ulParameter2)</td></tr>
<tr class="memdesc:gab00d0c3b12e60f96bd258cbf4886d991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump all current used timers in system.  <a href="#gab00d0c3b12e60f96bd258cbf4886d991">More...</a><br /></td></tr>
<tr class="separator:gab00d0c3b12e60f96bd258cbf4886d991"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Create and control software timer and timer callback functions. </p>
<p>The Timer Management function group allows to create, delete, and control software timers in the system. The software timers can be configured as one-short or periodic timers. When a timer expires, a callback function associated with the timer is executed.<br />
Timers can be in the following two states:<br />
</p><ul>
<li><b>Dormant</b> The timer first enters <b>Dormant</b> or <b>Inactive</b> state when created. If a one-short timer expires but not restarts yet, or is stopped the timer will be tranformed from <b>Active</b> state into <b>Dormant</b> state. </li>
<li><b>Active</b> The timer enters <b>Active</b> state If the timer starts or restarts. When expired, the callback function associcated with the timer will be executed.</li>
</ul>
<div class="image">
<img src="OS-timer-state-transition.jpg" alt="OS-timer-state-transition.jpg" width="617px" height="321px"/>
<div class="caption">
Software Timer State Transition</div></div>
 <h2 class="groupheader">Variable Documentation</h2>
<a id="ga9e2cd1e0b2cf2b5e0e844832cd887886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e2cd1e0b2cf2b5e0e844832cd887886">&#9670;&nbsp;</a></span>os_timer_id_get</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* os_timer_id_get) (void **pp_handle, uint32_t *p_timer_id)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ID assigned to the timer when created. </p>
<p>os_timer.h</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp_handle</td><td>Pointer to the created timer handle.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_timer_id</td><td>Used to pass back the ID assigned to the timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer id getting. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer ID was got successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer ID was failed to get.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(<span class="keywordtype">void</span> *p_handle)</div><div class="line">{</div><div class="line">    uint32_t timer_id;</div><div class="line"></div><div class="line">    <span class="comment">// Which timer expired?</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a>(&amp;p_handle, &amp;timer_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___o_s__87x3e___timer.html#ga16e4c6158f7cac5774287bef707120ec">os_timer_delete</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#define TIMER_ID 1</span></div><div class="line"></div><div class="line"><span class="comment">// Timer to be created.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *p_handle = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a>(&amp;p_handle, <span class="stringliteral">&quot;timer&quot;</span>, TIMER_ID,</div><div class="line">                       INTERVAL_MS, <span class="keyword">false</span>, timer_callback) == <span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Timer created successfully, start the timer.</span></div><div class="line">        <a class="code" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Timer failed to create.</span></div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gad03469cf9114fa107679c89e4482e328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad03469cf9114fa107679c89e4482e328">&#9670;&nbsp;</a></span>os_timer_create</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* os_timer_create) (void **pp_handle, const char *p_timer_name, uint32_t timer_id, uint32_t interval_ms, bool reload, void(*p_timer_callback)(void *))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new software timer instance. This allocates the storage required by the new timer, initializes the new timers internal state, and returns a handle by which the new timer can be referenced. </p>
<p>os_timer.h</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pp_handle</td><td>Used to pass back a handle by which the created timer can be referenced.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_timer_name</td><td>A descriptive name for the timer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timer_id</td><td>An identifier that is assigned to the timer being created. Typically this would be used in the timer callback function to identify which timer expired when the same callback function is assigned to more than one timer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interval_ms</td><td>The timer period in milliseconds.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reload</td><td>Used to set the timer as a periodic or one-shot timer. <ul>
<li><code>true</code> Create a periodic timer. </li>
<li><code>false</code> Create a one-shot timer.</li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_timer_callback</td><td>The function to call when the timer expires. Callback functions must have the prototype defined as 'void callback(void *)'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer creation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was created successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to create.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(<span class="keywordtype">void</span> *p_handle)</div><div class="line">{</div><div class="line">    uint32_t timer_id;</div><div class="line"></div><div class="line">    <span class="comment">// Which timer expired?</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a>(&amp;p_handle, &amp;timer_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___o_s__87x3e___timer.html#ga16e4c6158f7cac5774287bef707120ec">os_timer_delete</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#define TIMER_ID 1</span></div><div class="line"></div><div class="line"><span class="comment">// Timer to be created.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *p_handle = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a>(&amp;p_handle, <span class="stringliteral">&quot;timer&quot;</span>, TIMER_ID,</div><div class="line">                       INTERVAL_MS, <span class="keyword">false</span>, timer_callback) == <span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Timer created successfully, start the timer.</span></div><div class="line">        <a class="code" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Timer failed to create.</span></div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga8dba7261241f9e845825ce01bc8da7be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8dba7261241f9e845825ce01bc8da7be">&#9670;&nbsp;</a></span>os_timer_start</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* os_timer_start) (void **pp_handle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a timer that was previously created using the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function. If the timer had already been started and was in the active state, then <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> has equivalent functionality to the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function. </p>
<p>os_timer.h</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp_handle</td><td>Pointer to the created timer handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer starting. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was started successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to start.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(<span class="keywordtype">void</span> *p_handle)</div><div class="line">{</div><div class="line">    uint32_t timer_id;</div><div class="line"></div><div class="line">    <span class="comment">// Which timer expired?</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a>(&amp;p_handle, &amp;timer_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___o_s__87x3e___timer.html#ga16e4c6158f7cac5774287bef707120ec">os_timer_delete</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#define TIMER_ID 1</span></div><div class="line"></div><div class="line"><span class="comment">// Timer to be created.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *p_handle = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a>(&amp;p_handle, <span class="stringliteral">&quot;timer&quot;</span>, TIMER_ID,</div><div class="line">                       INTERVAL_MS, <span class="keyword">false</span>, timer_callback) == <span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Timer created successfully, start the timer.</span></div><div class="line">        <a class="code" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Timer failed to create.</span></div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga274c0ceb34fa7b6f1d5c583ffc2bc5e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga274c0ceb34fa7b6f1d5c583ffc2bc5e5">&#9670;&nbsp;</a></span>os_timer_restart</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* os_timer_restart) (void **pp_handle, uint32_t interval_ms)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restart a timer that was previously created using the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function. If the timer had already been started and was already in the active state, then <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> will cause the timer to re-evaluate its expiry time so that it is relative to when <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> was called. If the timer was in the dormant state then <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> has equivalent functionality to the <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a> API function. </p>
<p>os_timer.h</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp_handle</td><td>Pointer to the created timer handle.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">interval_ms</td><td>The timer period in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer restarting. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was restarted successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to restart.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(<span class="keywordtype">void</span> *p_handle)</div><div class="line">{</div><div class="line">    uint32_t timer_id;</div><div class="line"></div><div class="line">    <span class="comment">// Which timer expired?</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a>(&amp;p_handle, &amp;timer_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID)</div><div class="line">    {</div><div class="line">         <span class="comment">// Restart the specified timer.</span></div><div class="line">         <a class="code" href="group___o_s__87x3e___timer.html#ga274c0ceb34fa7b6f1d5c583ffc2bc5e5">os_timer_restart</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#define TIMER_ID 1</span></div><div class="line"></div><div class="line"><span class="comment">// Timer to be created.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *p_handle = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a>(&amp;p_handle, <span class="stringliteral">&quot;timer&quot;</span>, TIMER_ID,</div><div class="line">                       INTERVAL_MS, <span class="keyword">false</span>, timer_callback) == <span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Timer created successfully, start the timer.</span></div><div class="line">        <a class="code" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Timer failed to create.</span></div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga651cc50e8812169b96653e9aa3f515c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga651cc50e8812169b96653e9aa3f515c6">&#9670;&nbsp;</a></span>os_timer_stop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* os_timer_stop) (void **pp_handle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop a timer that was previously started using either of the <a class="el" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be" title="Start a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was in the active state, then os_timer_create() has equivalent functionality to the os_timer_create() API function. ">os_timer_start()</a>, <a class="el" href="group___o_s__87x3e___timer.html#ga274c0ceb34fa7b6f1d5c583ffc2bc5e5" title="Restart a timer that was previously created using the os_timer_create() API function. If the timer had already been started and was already in the active state, then os_timer_start() will cause the timer to re-evaluate its expiry time so that it is relative to when os_timer_start() was called. If the timer was in the dormant state then os_timer_start() has equivalent functionality to the os_timer_start() API function. ">os_timer_restart()</a> API functions. Stopping a timer ensures the timer is not in the active state. </p>
<p>os_timer.h</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp_handle</td><td>Pointer to the handle of timer being stopped.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer stopping. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was stopped successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to stop.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(<span class="keywordtype">void</span> *p_handle)</div><div class="line">{</div><div class="line">    uint32_t timer_id;</div><div class="line"></div><div class="line">    <span class="comment">// Which timer expired?</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a>(&amp;p_handle, &amp;timer_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___o_s__87x3e___timer.html#ga16e4c6158f7cac5774287bef707120ec">os_timer_delete</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#define TIMER_ID 1</span></div><div class="line"></div><div class="line"><span class="comment">// Timer to be created and stopped.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *p_handle = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a>(&amp;p_handle, <span class="stringliteral">&quot;timer&quot;</span>, TIMER_ID,</div><div class="line">                       INTERVAL_MS, <span class="keyword">false</span>, timer_callback) == <span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Timer created successfully, start the timer.</span></div><div class="line">        <a class="code" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Timer failed to create.</span></div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Stop the timer before expiration.</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga651cc50e8812169b96653e9aa3f515c6">os_timer_stop</a>(&amp;p_handle);</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga16e4c6158f7cac5774287bef707120ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga16e4c6158f7cac5774287bef707120ec">&#9670;&nbsp;</a></span>os_timer_delete</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* os_timer_delete) (void **pp_handle)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a timer that was previously created using the <a class="el" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328" title="Create a new software timer instance. This allocates the storage required by the new timer...">os_timer_create()</a> API function. </p>
<p>os_timer.h</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp_handle</td><td>Pointer to the handle of timer being deleted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer deletion. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was deleted successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to delete.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(<span class="keywordtype">void</span> *p_handle)</div><div class="line">{</div><div class="line">    uint32_t timer_id;</div><div class="line"></div><div class="line">    <span class="comment">// Which timer expired?</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a>(&amp;p_handle, &amp;timer_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___o_s__87x3e___timer.html#ga16e4c6158f7cac5774287bef707120ec">os_timer_delete</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#define TIMER_ID 1</span></div><div class="line"></div><div class="line"><span class="comment">// Timer to be created and deleted.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *p_handle = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a>(&amp;p_handle, <span class="stringliteral">&quot;timer&quot;</span>, TIMER_ID,</div><div class="line">                       INTERVAL_MS, <span class="keyword">false</span>, timer_callback) == <span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Timer created successfully, start the timer.</span></div><div class="line">        <a class="code" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Timer failed to create.</span></div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gab00d0c3b12e60f96bd258cbf4886d991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab00d0c3b12e60f96bd258cbf4886d991">&#9670;&nbsp;</a></span>os_timer_pend_function_call</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* os_timer_pend_function_call) (void(*p_pend_function)(void *, uint32_t), void *pvParameter1, uint32_t ulParameter2)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump all current used timers in system. </p>
<p>os_timer.h</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer dump. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was dumped successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to dump.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(<span class="keywordtype">void</span> *p_handle)</div><div class="line">{</div><div class="line">    uint32_t timer_id;</div><div class="line"></div><div class="line">    <span class="comment">// Which timer expired?</span></div><div class="line">    <a class="code" href="group___o_s__87x3e___timer.html#ga9e2cd1e0b2cf2b5e0e844832cd887886">os_timer_id_get</a>(&amp;p_handle, &amp;timer_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___o_s__87x3e___timer.html#ga16e4c6158f7cac5774287bef707120ec">os_timer_delete</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="preprocessor">#define TIMER_ID 1</span></div><div class="line"></div><div class="line"><span class="comment">// Timer to be created and dumped.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">void</span> *p_handle = <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3e___timer.html#gad03469cf9114fa107679c89e4482e328">os_timer_create</a>(&amp;p_handle, <span class="stringliteral">&quot;timer&quot;</span>, TIMER_ID,</div><div class="line">                       INTERVAL_MS, <span class="keyword">false</span>, timer_callback) == <span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="comment">// Timer created successfully, start the timer.</span></div><div class="line">        <a class="code" href="group___o_s__87x3e___timer.html#ga8dba7261241f9e845825ce01bc8da7be">os_timer_start</a>(&amp;p_handle);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="comment">// Timer failed to create.</span></div><div class="line">        <span class="keywordflow">return</span> -1;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// Dump all used timers.</span></div><div class="line">    <a class="code" href="group___o_s__87x3d___timer.html#gaa71ff4b9195f7803b93d269022b840cf">os_timer_dump</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
