<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: sdk/src/sample/rws/findmy/ble_platform/platform_os.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_243a4ba6b4f893d71afbb5a3e90552fa.html">sdk</a></li><li class="navelem"><a class="el" href="dir_9866d35d0a4df943a300229bd35168d0.html">src</a></li><li class="navelem"><a class="el" href="dir_d5017273838817d214290242f8c2b102.html">sample</a></li><li class="navelem"><a class="el" href="dir_92f396fa14f8ee2a3e11cbe1846b0ee6.html">rws</a></li><li class="navelem"><a class="el" href="dir_ad878c188ef08ef6a58d944743721d88.html">findmy</a></li><li class="navelem"><a class="el" href="dir_040607084a643516a0070a5ded609808.html">ble_platform</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">platform_os.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">/* Define to prevent recursive inclusion */</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef _PLATFORM_OS_H</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define _PLATFORM_OS_H</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">/* Add Includes here */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;platform_macros.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;os_timer.h&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;os_msg.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;os_sync.h&quot;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;os_mem.h&quot;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;os_sched.h&quot;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<a class="code" href="group___platform___macros___exported___macros.html#gacd011fce71bdd0f1884aa638d921487a">BEGIN_DECLS</a></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="group___critical___section.html#gaae48301ccf8ed72f8d0f6c787533cdfa">   35</a></span>&#160;<span class="preprocessor">#define plt_critical_enter()                                        os_lock()</span></div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="group___critical___section.html#gab3909af9ec47f735f9606587efbaa344">   36</a></span>&#160;<span class="preprocessor">#define plt_critical_exit(flags)                                    os_unlock(flags)</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="group___mutex.html#ga5f10632417adff5e74ffa2029fc71e24">   42</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">void</span> *<a class="code" href="group___mutex.html#ga5f10632417adff5e74ffa2029fc71e24">plt_mutex_t</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<a class="code" href="group___mutex.html#ga5f10632417adff5e74ffa2029fc71e24">plt_mutex_t</a> <a class="code" href="group___mutex.html#ga8e749c61f1ea07da991294c4812b7482">plt_mutex_create</a>(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="group___mutex.html#ga74e8bd608c570fe8208268a5ac4d696f">   44</a></span>&#160;<span class="preprocessor">#define plt_mutex_delete(mutex)                                     os_mutex_delete(mutex)</span></div><div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="group___mutex.html#ga9adb471be274d9f03727cf6a5f4a2ae6">   45</a></span>&#160;<span class="preprocessor">#define plt_mutex_take(mutex, wait_ms)                              os_mutex_take(mutex, wait_ms)</span></div><div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="group___mutex.html#ga7dc7c8540aac55521b749f612b1995d0">   46</a></span>&#160;<span class="preprocessor">#define plt_mutex_give(mutex)                                       os_mutex_give(mutex)</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="group___dynamic___memory.html#ga446c9b699cf2872ae4ef3ceb888fcc4b">   53</a></span>&#160;<span class="preprocessor">#define RAM_TYPE_DATA_OFF                                           RAM_TYPE_DATA_ON</span></div><div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="group___dynamic___memory.html#gac384044fc0759841a149f07c6c221218">   54</a></span>&#160;<span class="preprocessor">#define plt_malloc(size, ram_type)                                  os_mem_alloc(ram_type, size)</span></div><div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="group___dynamic___memory.html#ga759064dbdf3b1565fc15e16584b38a55">   55</a></span>&#160;<span class="preprocessor">#define plt_free(p, ram_type)                                       os_mem_free(p)</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="group___sync___queue.html#ga94c5f7aea1bb1024e6cd44e45338e2e0">   62</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">void</span> *<a class="code" href="group___sync___queue.html#ga94c5f7aea1bb1024e6cd44e45338e2e0">plt_os_queue_handle_t</a>;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<a class="code" href="group___sync___queue.html#ga94c5f7aea1bb1024e6cd44e45338e2e0">plt_os_queue_handle_t</a> <a class="code" href="group___sync___queue.html#ga935ebb8437835efa7243bad32acc7a40">plt_os_queue_create</a>(uint32_t item_num, uint32_t item_size);</div><div class="line"><a name="l00064"></a><span class="lineno"><a class="line" href="group___sync___queue.html#ga6d9928c6527fd06622c327d4b0644a7f">   64</a></span>&#160;<span class="preprocessor">#define plt_os_queue_delete(queue_handle)                           os_msg_queue_delete(queue_handle)</span></div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="group___sync___queue.html#gac3244ce4bd1651909067c8e28ff04265">   65</a></span>&#160;<span class="preprocessor">#define plt_os_queue_send(queue_handle, pmsg, wait_ms)              os_msg_send(queue_handle, pmsg, wait_ms)</span></div><div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="group___sync___queue.html#ga4e0b2d0624508226b9785cbde312714c">   66</a></span>&#160;<span class="preprocessor">#define plt_os_queue_receive(queue_handle, pmsg, wait_ms)           os_msg_recv(queue_handle, pmsg, wait_ms)</span></div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="group___s_w.html#gaa113db5115fa448427c1c7aacddc1127">   72</a></span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">void</span> *<a class="code" href="group___s_w.html#gaa113db5115fa448427c1c7aacddc1127">plt_timer_t</a>;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<a class="code" href="group___s_w.html#gaa113db5115fa448427c1c7aacddc1127">plt_timer_t</a> <a class="code" href="group___s_w.html#gaad0bf5fd760727e69f2178ede9a7e413">plt_timer_create</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, uint32_t period_ms, <span class="keywordtype">bool</span> reload, uint32_t timer_id,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                             <span class="keywordtype">void</span> (*pf_cb)(<span class="keywordtype">void</span> *));</div><div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="group___s_w.html#gac86f9bd1999e9aaa38b38468ec3de532">   75</a></span>&#160;<span class="preprocessor">#define plt_timer_delete(timer, wait_ms)                            os_timer_delete(&amp;timer)</span></div><div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="group___s_w.html#ga97a96f7573be5ac53902555c624dd922">   76</a></span>&#160;<span class="preprocessor">#define plt_timer_start(timer, wait_ms)                             os_timer_start(&amp;timer)</span></div><div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="group___s_w.html#ga84b739634e2075bc6446c6c296a70b41">   77</a></span>&#160;<span class="preprocessor">#define plt_timer_stop(timer, wait_ms)                              os_timer_stop(&amp;timer)</span></div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="group___s_w.html#ga248eaf6b4519ff6a86c61af23d06e1a0">   78</a></span>&#160;<span class="preprocessor">#define plt_timer_reset(timer, wait_ms)                             os_timer_start(&amp;timer)</span></div><div class="line"><a name="l00079"></a><span class="lineno"><a class="line" href="group___s_w.html#ga5f6fd2b1e80b6ca95b1befe80ae13c43">   79</a></span>&#160;<span class="preprocessor">#define plt_timer_change_period(timer, period_ms, wait_ms)          os_timer_restart(&amp;timer, period_ms)</span></div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="group___s_w.html#ga55f8d88709d6a80991385895a4031f72">plt_timer_is_active</a>(<a class="code" href="group___s_w.html#gaa113db5115fa448427c1c7aacddc1127">plt_timer_t</a> timer);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;uint32_t <a class="code" href="group___s_w.html#ga2cf4490aff1fb2be92e9e0af5b178144">plt_timer_get_id</a>(<a class="code" href="group___s_w.html#gaa113db5115fa448427c1c7aacddc1127">plt_timer_t</a> timer);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="keywordtype">void</span> <a class="code" href="group___time.html#ga54297c5f800b3067d1e71b67b208f31b">plt_delay_us</a>(uint32_t t);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="group___time.html#gac6c724c8c23c18735c12fd205cd41842">   91</a></span>&#160;<span class="preprocessor">#define plt_delay_ms(t)                                             os_delay(t)</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="group___time.html#gacb8fbaf2431f2271460b77cfe17c8e1c">   94</a></span>&#160;<span class="preprocessor">#define VENDOR_BASE_ADDRESS                                         0x40058000</span></div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="group___time.html#gaf335d5f1d751a3f3ca4039dcd059ff58">   95</a></span>&#160;<span class="preprocessor">#define VENDOR_READ(Vendor_offset)                                  ((uint32_t)*((volatile uint32_t*)(VENDOR_BASE_ADDRESS+(Vendor_offset))))</span></div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="group___time.html#gaf01f42bb1f5bb204f2d664c0e24bdd1d">   96</a></span>&#160;<span class="preprocessor">#define PLT_TIME_READ_US_MAX_VALUE                                  (0x3FFFFFF/40)</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">/* precision: 1us, range: 0 ~ 1.677 second */</span></div><div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="group___time.html#gad31a3c5352f9296250ef52e1967a9b96">   98</a></span>&#160;<span class="preprocessor">#define plt_time_read_us()                                          ((VENDOR_READ(0x17C) &amp; 0x3FFFFFF)/40)</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">/* precision: 10ms, range: 0 ~ 49 day*/</span></div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="group___time.html#ga4ebde730da14489d77bebbb6210a6181">  101</a></span>&#160;<span class="preprocessor">#define plt_time_read_ms()                                          os_sys_time_get()</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;uint32_t <a class="code" href="group___time.html#gacb1340fbfa94d65e69041788acfce01d">plt_time_diff</a>(uint32_t begin_ms, uint32_t begin_us, uint32_t end_ms, uint32_t end_us);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="group___platform___macros___exported___macros.html#ga67019e6c1b6d267f6f85fbb577f0f286">END_DECLS</a></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* _PLATFORM_OS_H */</span><span class="preprocessor"></span></div><div class="ttc" id="group___sync___queue_html_ga94c5f7aea1bb1024e6cd44e45338e2e0"><div class="ttname"><a href="group___sync___queue.html#ga94c5f7aea1bb1024e6cd44e45338e2e0">plt_os_queue_handle_t</a></div><div class="ttdeci">void * plt_os_queue_handle_t</div><div class="ttdef"><b>Definition:</b> platform_os.h:62</div></div>
<div class="ttc" id="group___sync___queue_html_ga935ebb8437835efa7243bad32acc7a40"><div class="ttname"><a href="group___sync___queue.html#ga935ebb8437835efa7243bad32acc7a40">plt_os_queue_create</a></div><div class="ttdeci">plt_os_queue_handle_t plt_os_queue_create(uint32_t item_num, uint32_t item_size)</div></div>
<div class="ttc" id="group___s_w_html_gaa113db5115fa448427c1c7aacddc1127"><div class="ttname"><a href="group___s_w.html#gaa113db5115fa448427c1c7aacddc1127">plt_timer_t</a></div><div class="ttdeci">void * plt_timer_t</div><div class="ttdef"><b>Definition:</b> platform_os.h:72</div></div>
<div class="ttc" id="group___platform___macros___exported___macros_html_gacd011fce71bdd0f1884aa638d921487a"><div class="ttname"><a href="group___platform___macros___exported___macros.html#gacd011fce71bdd0f1884aa638d921487a">BEGIN_DECLS</a></div><div class="ttdeci">#define BEGIN_DECLS</div><div class="ttdef"><b>Definition:</b> platform_macros.h:147</div></div>
<div class="ttc" id="group___time_html_gacb1340fbfa94d65e69041788acfce01d"><div class="ttname"><a href="group___time.html#gacb1340fbfa94d65e69041788acfce01d">plt_time_diff</a></div><div class="ttdeci">uint32_t plt_time_diff(uint32_t begin_ms, uint32_t begin_us, uint32_t end_ms, uint32_t end_us)</div><div class="ttdoc">diff the time with high precision as much as possible </div></div>
<div class="ttc" id="group___platform___macros___exported___macros_html_ga67019e6c1b6d267f6f85fbb577f0f286"><div class="ttname"><a href="group___platform___macros___exported___macros.html#ga67019e6c1b6d267f6f85fbb577f0f286">END_DECLS</a></div><div class="ttdeci">#define END_DECLS</div><div class="ttdef"><b>Definition:</b> platform_macros.h:148</div></div>
<div class="ttc" id="group___s_w_html_ga2cf4490aff1fb2be92e9e0af5b178144"><div class="ttname"><a href="group___s_w.html#ga2cf4490aff1fb2be92e9e0af5b178144">plt_timer_get_id</a></div><div class="ttdeci">uint32_t plt_timer_get_id(plt_timer_t timer)</div></div>
<div class="ttc" id="group___s_w_html_ga55f8d88709d6a80991385895a4031f72"><div class="ttname"><a href="group___s_w.html#ga55f8d88709d6a80991385895a4031f72">plt_timer_is_active</a></div><div class="ttdeci">bool plt_timer_is_active(plt_timer_t timer)</div></div>
<div class="ttc" id="group___mutex_html_ga5f10632417adff5e74ffa2029fc71e24"><div class="ttname"><a href="group___mutex.html#ga5f10632417adff5e74ffa2029fc71e24">plt_mutex_t</a></div><div class="ttdeci">void * plt_mutex_t</div><div class="ttdef"><b>Definition:</b> platform_os.h:42</div></div>
<div class="ttc" id="group___mutex_html_ga8e749c61f1ea07da991294c4812b7482"><div class="ttname"><a href="group___mutex.html#ga8e749c61f1ea07da991294c4812b7482">plt_mutex_create</a></div><div class="ttdeci">plt_mutex_t plt_mutex_create(void)</div></div>
<div class="ttc" id="group___time_html_ga54297c5f800b3067d1e71b67b208f31b"><div class="ttname"><a href="group___time.html#ga54297c5f800b3067d1e71b67b208f31b">plt_delay_us</a></div><div class="ttdeci">void plt_delay_us(uint32_t t)</div></div>
<div class="ttc" id="group___s_w_html_gaad0bf5fd760727e69f2178ede9a7e413"><div class="ttname"><a href="group___s_w.html#gaad0bf5fd760727e69f2178ede9a7e413">plt_timer_create</a></div><div class="ttdeci">plt_timer_t plt_timer_create(const char *name, uint32_t period_ms, bool reload, uint32_t timer_id, void(*pf_cb)(void *))</div></div>
</div><!-- fragment --></div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
