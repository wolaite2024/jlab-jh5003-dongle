<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: GAP LE PA ADV Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GAP LE PA ADV Exported Functions<div class="ingroups"><a class="el" href="group___a_p_i___reference.html">API Reference</a> &raquo; <a class="el" href="group___b_l_u_e_t_o_o_t_h.html">Bluetooth</a> &raquo; <a class="el" href="group___g_a_p.html">GAP</a> &#124; <a class="el" href="group___b_t___host.html">Bluetooth Host</a> &raquo; <a class="el" href="group___g_a_p___l_e.html">GAP LE Module</a> &raquo; <a class="el" href="group___g_a_p___l_e___p_a___a_d_v.html">GAP LE PA ADV Module</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5ebab1e347479b171ee15fab4274c5e6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#ga5ebab1e347479b171ee15fab4274c5e6">le_pa_adv_init</a> (uint8_t adv_set_num)</td></tr>
<tr class="memdesc:ga5ebab1e347479b171ee15fab4274c5e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the number of advertising sets for advertising state in periodic advertising.  <a href="#ga5ebab1e347479b171ee15fab4274c5e6">More...</a><br /></td></tr>
<tr class="separator:ga5ebab1e347479b171ee15fab4274c5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61cbfc0e6ccc65097c2f403836575afd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#ga61cbfc0e6ccc65097c2f403836575afd">le_pa_adv_set_periodic_adv_param</a> (uint8_t adv_handle, uint16_t periodic_adv_interval_min, uint16_t periodic_adv_interval_max, uint16_t periodic_adv_prop)</td></tr>
<tr class="memdesc:ga61cbfc0e6ccc65097c2f403836575afd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set GAP PA advertising parameters for the specified advertising set.  <a href="#ga61cbfc0e6ccc65097c2f403836575afd">More...</a><br /></td></tr>
<tr class="separator:ga61cbfc0e6ccc65097c2f403836575afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae81e65078f3251f31fb9a707f180453e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#gae81e65078f3251f31fb9a707f180453e">le_pa_adv_set_periodic_adv_data</a> (uint8_t adv_handle, uint16_t periodic_adv_data_len, uint8_t *p_periodic_adv_data, bool pa_unchanged_data_flag)</td></tr>
<tr class="memdesc:gae81e65078f3251f31fb9a707f180453e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set GAP periodic advertising data for the specified advertising set.  <a href="#gae81e65078f3251f31fb9a707f180453e">More...</a><br /></td></tr>
<tr class="separator:gae81e65078f3251f31fb9a707f180453e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c878b9456a21f9b3ed5b4f08ed28ffb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#ga2c878b9456a21f9b3ed5b4f08ed28ffb">le_pa_adv_start_setting</a> (uint8_t adv_handle, uint8_t pa_update_flags)</td></tr>
<tr class="memdesc:ga2c878b9456a21f9b3ed5b4f08ed28ffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the Controller to set periodic advertising related parameters for the specified advertising set.  <a href="#ga2c878b9456a21f9b3ed5b4f08ed28ffb">More...</a><br /></td></tr>
<tr class="separator:ga2c878b9456a21f9b3ed5b4f08ed28ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc4f6247422c1694de94f0fdeecb02df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#gafc4f6247422c1694de94f0fdeecb02df">le_pa_adv_set_periodic_adv_enable</a> (uint8_t adv_handle, uint8_t enable)</td></tr>
<tr class="memdesc:gafc4f6247422c1694de94f0fdeecb02df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request the Controller to enable or disable the periodic advertising for the specified advertising set.  <a href="#gafc4f6247422c1694de94f0fdeecb02df">More...</a><br /></td></tr>
<tr class="separator:gafc4f6247422c1694de94f0fdeecb02df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga5ebab1e347479b171ee15fab4274c5e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ebab1e347479b171ee15fab4274c5e6">&#9670;&nbsp;</a></span>le_pa_adv_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> le_pa_adv_init </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>adv_set_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the number of advertising sets for advertising state in periodic advertising. </p>
<dl class="section note"><dt>Note</dt><dd>If PA advertising state will be used, <a class="el" href="group___g_a_p___l_e___e_x_t_e_n_d_e_d___a_d_v___exported___functions.html#gabb2c87463fadf15599e7506f02901d5d">le_ext_adv_gap_msg_info_way</a> (false) should be invoked.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adv_set_num</td><td>Advertising sets number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GAP Operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GAP_CAUSE_SUCCESS</td><td>GAP operation success. </td></tr>
    <tr><td class="paramname">GAP_CAUSE_INVALID_PARAM</td><td>Operation failure, invalid parameter. </td></tr>
    <tr><td class="paramname">GAP_CAUSE_NO_RESOURCE</td><td>Operation failure, memory acquisition failure.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> cause = <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#ga5ebab1e347479b171ee15fab4274c5e6">le_pa_adv_init</a>(adv_set_num);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga61cbfc0e6ccc65097c2f403836575afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga61cbfc0e6ccc65097c2f403836575afd">&#9670;&nbsp;</a></span>le_pa_adv_set_periodic_adv_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> le_pa_adv_set_periodic_adv_param </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>adv_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>periodic_adv_interval_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>periodic_adv_interval_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>periodic_adv_prop</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set GAP PA advertising parameters for the specified advertising set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adv_handle</td><td>Used to identify an advertising set, which is assigned by <a class="el" href="group___g_a_p___l_e___e_x_t_e_n_d_e_d___a_d_v___exported___functions.html#ga9d0df258b8a935d0e7efb8ae40c9d9c9">le_ext_adv_create_adv_handle</a>. adv_event_prop specified by adv_handle has been configured as <a class="el" href="group___g_a_p___l_e___e_x_t_e_n_d_e_d___a_d_v___exported___types.html#gga38d9370fd19d673f780eaa51b21512b1a77fbe84245a737e27879e1744bb013b0">LE_EXT_ADV_EXTENDED_ADV_NON_SCAN_NON_CONN_UNDIRECTED</a> or or LE_EXT_ADV_EXTENDED_ADV_NON_SCAN_NON_CONN_DIRECTED. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">periodic_adv_interval_min</td><td>Minimum advertising interval for periodic advertising. <ul>
<li>Range: 0x0006 to 0xFFFF. </li>
<li>Time = N * 1.25 ms. </li>
<li>Time Range: 7.5 ms to 81.91875 s. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">periodic_adv_interval_max</td><td>Maximum advertising interval for periodic advertising. <ul>
<li>Range: 0x0006 to 0xFFFF. </li>
<li>Time = N * 1.25 ms. </li>
<li>Time Range: 7.5 ms to 81.91875 s. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">periodic_adv_prop</td><td>A bit field that indicates which fields should be included in the advertising packet. <a class="el" href="group___p_a___a_d_v___p_e_r_i_o_d_i_c___a_d_v___p_r_o_p.html">Periodic Advertising Properties Flag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GAP operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GAP_CAUSE_SUCCESS</td><td>GAP operation success. </td></tr>
    <tr><td class="paramname">Others</td><td>GAP operation failure.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">     <a class="code" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> cause = <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#ga61cbfc0e6ccc65097c2f403836575afd">le_pa_adv_set_periodic_adv_param</a>(adv_handle, periodic_adv_interval_min,</div><div class="line">                                                         periodic_adv_interval_max, periodic_adv_prop);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gae81e65078f3251f31fb9a707f180453e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae81e65078f3251f31fb9a707f180453e">&#9670;&nbsp;</a></span>le_pa_adv_set_periodic_adv_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> le_pa_adv_set_periodic_adv_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>adv_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>periodic_adv_data_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_periodic_adv_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>pa_unchanged_data_flag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set GAP periodic advertising data for the specified advertising set. </p>
<dl class="section note"><dt>Note</dt><dd>This function just saves the pointer of the advertising data and will not copy the advertising data. So application should use the const array or the global array to save the advertising data. If application uses a dynamically requested buffer to save the advertising data, do not release it before configuration of advertising data is completed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adv_handle</td><td>Used to identify an advertising set, which is assigned by <a class="el" href="group___g_a_p___l_e___e_x_t_e_n_d_e_d___a_d_v___exported___functions.html#ga9d0df258b8a935d0e7efb8ae40c9d9c9">le_ext_adv_create_adv_handle</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">periodic_adv_data_len</td><td>The length of periodic advertising data. <br />
 If periodic advertising state is <a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528a1d077ddc640792fa23560c032cff3869">PA_ADV_STATE_WAIT_EXT_ADV_STATE_ADVERTISING</a> or <a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528acf7d9e3cb52b0c78475c7e8b9b2c28da">PA_ADV_STATE_ADVERTISING</a>, periodic_adv_data_len should have the range of values 0 to 252. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_periodic_adv_data</td><td>Pointer to periodic advertising data to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pa_unchanged_data_flag</td><td>Unchanged data (just update the Advertising DID of the periodic advertising). <br />
 If periodic advertising state is <a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528a1d077ddc640792fa23560c032cff3869">PA_ADV_STATE_WAIT_EXT_ADV_STATE_ADVERTISING</a> or <a class="el" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528acf7d9e3cb52b0c78475c7e8b9b2c28da">PA_ADV_STATE_ADVERTISING</a>, and configuration of non-zero periodic advertising data has been completed, then pa_unchanged_data_flag could be configured as True or False. Otherwise, pa_unchanged_data_flag should be configured as False. <br />
 If pa_unchanged_data_flag is True, periodic_adv_data_len should be zero.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GAP operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GAP_CAUSE_SUCCESS</td><td>GAP operation success. </td></tr>
    <tr><td class="paramname">Others</td><td>GAP operation failure.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> cause = <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#gae81e65078f3251f31fb9a707f180453e">le_pa_adv_set_periodic_adv_data</a>(adv_handle, periodic_adv_data_len,</div><div class="line">                                                        (uint8_t *)periodic_adv_data, pa_unchanged_data_flag);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga2c878b9456a21f9b3ed5b4f08ed28ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2c878b9456a21f9b3ed5b4f08ed28ffb">&#9670;&nbsp;</a></span>le_pa_adv_start_setting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> le_pa_adv_start_setting </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>adv_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pa_update_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the Controller to set periodic advertising related parameters for the specified advertising set. </p>
<p>This function can be called after Bluetooth Host is ready. <br />
 Explanation: If Bluetooth Host is ready, the application will be notified by message <a class="el" href="group___g_a_p___m_s_g___t_y_p_e.html#gae9874bb97b4d115932f5f124be42ad92">GAP_MSG_LE_DEV_STATE_CHANGE</a> with new_state about gap_init_state which is configured as <a class="el" href="group___g_a_p___i_n_i_t___s_t_a_t_e.html#ga895d6a97497c74480994ad044504aa13">GAP_INIT_STATE_STACK_READY</a>.</p>
<p>If sending request operation is success, the result of setting periodic advertising related parameters will be returned by app_gap_callback with cb_type <a class="el" href="group___g_a_p___l_e___m_s_g___types.html#ga673fb5f597175bd907b80f72d54afedc">GAP_MSG_LE_PA_ADV_START_SETTING</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adv_handle</td><td>Used to identify an advertising set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pa_update_flags</td><td>A bit field that indicates periodic advertising related parameters that shall be set. <a class="el" href="group___p_a___a_d_v___p_a_r_a_m.html">Periodic Advertising Parameter Flag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Send request operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GAP_CAUSE_SUCCESS</td><td>Send request operation success. </td></tr>
    <tr><td class="paramname">Others</td><td>Send request operation failure.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> cause = <a class="code" href="group___g_a_p___common___exported___types.html#gga99268bc0507cd918edbd1c9d12c802aba517ae23e2fc4ffb7a6128b63e43a5afc">GAP_CAUSE_SUCCESS</a>;</div><div class="line"></div><div class="line">    cause = <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#ga61cbfc0e6ccc65097c2f403836575afd">le_pa_adv_set_periodic_adv_param</a>(adv_handle, periodic_adv_interval_min, periodic_adv_interval_max, periodic_adv_prop);</div><div class="line">    cause = <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#gae81e65078f3251f31fb9a707f180453e">le_pa_adv_set_periodic_adv_data</a>(adv_handle, periodic_adv_data_len, (uint8_t *)periodic_adv_data, pa_unchanged_data_flag);</div><div class="line"></div><div class="line">    <span class="comment">// e.g. pa_update_flags @ref PA_ADV_PARAM. 0x03 indicates that periodic advertising parameters and periodic advertising data</span></div><div class="line">    <span class="comment">// will be configured.</span></div><div class="line">    cause = <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#ga2c878b9456a21f9b3ed5b4f08ed28ffb">le_pa_adv_start_setting</a>(adv_handle, pa_update_flags);</div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> app_gap_callback(uint8_t cb_type, <span class="keywordtype">void</span> *p_cb_data)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> result = <a class="code" href="group___g_a_p___common___exported___types.html#gga90b0c39404615bbdf0fc222483ed3fb9a909f010ff315d17ec44d25243492a366">APP_RESULT_SUCCESS</a>;</div><div class="line">    <a class="code" href="union_t___l_e___c_b___d_a_t_a.html">T_LE_CB_DATA</a> *p_data = (<a class="code" href="union_t___l_e___c_b___d_a_t_a.html">T_LE_CB_DATA</a> *)p_cb_data;</div><div class="line"></div><div class="line">    ......</div><div class="line">    <span class="keywordflow">switch</span> (cb_type)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___m_s_g___types.html#ga673fb5f597175bd907b80f72d54afedc">GAP_MSG_LE_PA_ADV_START_SETTING</a>:</div><div class="line">        <a class="code" href="group__x3d___t_r_a_c_e.html#ga98e2dee240d2fde3119d3380b4d98762">APP_PRINT_INFO3</a>(<span class="stringliteral">&quot;GAP_MSG_LE_PA_ADV_START_SETTING: cause 0x%x, adv_handle 0x%x, flag 0x%x&quot;</span>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a2ddfb2900271a0b2c0a14ece00c61f34">p_le_pa_adv_start_setting_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_t_a_r_t___s_e_t_t_i_n_g___r_s_p.html#aa4f2c0f4dd13d2ab4a435cbbc672c1f3">cause</a>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a2ddfb2900271a0b2c0a14ece00c61f34">p_le_pa_adv_start_setting_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_t_a_r_t___s_e_t_t_i_n_g___r_s_p.html#a96dc09ff81c490ab93ccf8145b2f9429">adv_handle</a>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a2ddfb2900271a0b2c0a14ece00c61f34">p_le_pa_adv_start_setting_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_t_a_r_t___s_e_t_t_i_n_g___r_s_p.html#aff31312fb16705aa73c53b945a1a6b30">flag</a>);</div><div class="line"></div><div class="line">        <span class="comment">// If result is success, APP could use @ref le_pa_adv_set_periodic_adv_enable to enable periodic advertising.</span></div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    ......</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gafc4f6247422c1694de94f0fdeecb02df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc4f6247422c1694de94f0fdeecb02df">&#9670;&nbsp;</a></span>le_pa_adv_set_periodic_adv_enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> le_pa_adv_set_periodic_adv_enable </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>adv_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request the Controller to enable or disable the periodic advertising for the specified advertising set. </p>
<p>This function can be called after Bluetooth Host is ready. <br />
 Explanation: If Bluetooth Host is ready, the application will be notified by message <a class="el" href="group___g_a_p___m_s_g___t_y_p_e.html#gae9874bb97b4d115932f5f124be42ad92">GAP_MSG_LE_DEV_STATE_CHANGE</a> with new_state about gap_init_state which is configured as <a class="el" href="group___g_a_p___i_n_i_t___s_t_a_t_e.html#ga895d6a97497c74480994ad044504aa13">GAP_INIT_STATE_STACK_READY</a>.</p>
<p>If sending request operation is success, the result of enable or disable periodic advertising will be returned by app_gap_callback with cb_type <a class="el" href="group___g_a_p___l_e___m_s_g___types.html#ga8d31f4a6648a2f8ed924275655d51b9b">GAP_MSG_LE_PA_ADV_SET_PERIODIC_ADV_ENABLE</a>, periodic advertising state will be returned by app_gap_callback with cb_type <a class="el" href="group___g_a_p___l_e___m_s_g___types.html#ga8b15bbaee5a1a42fbbdf4447844d8418">GAP_MSG_LE_PA_ADV_STATE_CHANGE_INFO</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adv_handle</td><td>Used to identify an advertising set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>A bit field that describes the enable parameters. <a class="el" href="group___p_a___a_d_v___e_n_a_b_l_e.html">Periodic Advertising Enable Flag</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Send request operation. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">GAP_CAUSE_SUCCESS</td><td>Send request operation success. </td></tr>
    <tr><td class="paramname">Others</td><td>Send request operation failure.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="comment">// Result of GAP_MSG_LE_EXT_ADV_START_SETTING is success.</span></div><div class="line">    <a class="code" href="group___g_a_p___common___exported___types.html#ga99268bc0507cd918edbd1c9d12c802ab">T_GAP_CAUSE</a> cause = <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___functions.html#gafc4f6247422c1694de94f0fdeecb02df">le_pa_adv_set_periodic_adv_enable</a>(adv_handle, enable)</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> app_handle_pa_adv_state_evt(uint8_t adv_handle, <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#ga20616b77fb133d077a5b825bc6b8a528">T_GAP_PA_ADV_STATE</a> new_state, uint16_t cause)</div><div class="line">{</div><div class="line">    ......</div><div class="line">    <span class="keywordflow">switch</span> (new_state)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528afd12fce79421d81100c21d4a7f58aaea">PA_ADV_STATE_IDLE</a>:</div><div class="line">        {</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528a5c317e52b89288abe8e75d88767af6af">PA_ADV_STATE_START_EXT_ADV_STATE_IDLE</a>:</div><div class="line">        {</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528a1d077ddc640792fa23560c032cff3869">PA_ADV_STATE_WAIT_EXT_ADV_STATE_ADVERTISING</a>:</div><div class="line">        {</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528a553a14c8830fc14ede6f1f9c08bc7a3c">PA_ADV_STATE_START</a>:</div><div class="line">        {</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528acf7d9e3cb52b0c78475c7e8b9b2c28da">PA_ADV_STATE_ADVERTISING</a>:</div><div class="line">        {</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#gga20616b77fb133d077a5b825bc6b8a528aee1c01a67acd93189d3d3bb7d884224b">PA_ADV_STATE_STOP</a>:</div><div class="line">        {</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">default</span>:</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">    }</div><div class="line">    ......</div><div class="line">}</div><div class="line"></div><div class="line"><a class="code" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> app_gap_callback(uint8_t cb_type, <span class="keywordtype">void</span> *p_cb_data)</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> result = <a class="code" href="group___g_a_p___common___exported___types.html#gga90b0c39404615bbdf0fc222483ed3fb9a909f010ff315d17ec44d25243492a366">APP_RESULT_SUCCESS</a>;</div><div class="line">    <a class="code" href="union_t___l_e___c_b___d_a_t_a.html">T_LE_CB_DATA</a> *p_data = (<a class="code" href="union_t___l_e___c_b___d_a_t_a.html">T_LE_CB_DATA</a> *)p_cb_data;</div><div class="line"></div><div class="line">    .......</div><div class="line">    <span class="keywordflow">switch</span> (cb_type)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___m_s_g___types.html#ga8d31f4a6648a2f8ed924275655d51b9b">GAP_MSG_LE_PA_ADV_SET_PERIODIC_ADV_ENABLE</a>:</div><div class="line">        <a class="code" href="group__x3d___t_r_a_c_e.html#ga63d3804cafe8ed6f9165f9692b30fd96">APP_PRINT_INFO5</a>(<span class="stringliteral">&quot;GAP_MSG_LE_PA_ADV_SET_PERIODIC_ADV_ENABLE: cause 0x%x, adv_handle 0x%x, value of enable param 0x%x, enable periodic advertising %d, include ADI %d&quot;</span>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a86784262b241579304af17469e9925c3">p_le_pa_adv_set_periodic_adv_enable_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_e_t___p_e_r_i_o_d_i_c___a_d_v___e_n_a_b_l_e___r_s_p.html#aa4f2c0f4dd13d2ab4a435cbbc672c1f3">cause</a>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a86784262b241579304af17469e9925c3">p_le_pa_adv_set_periodic_adv_enable_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_e_t___p_e_r_i_o_d_i_c___a_d_v___e_n_a_b_l_e___r_s_p.html#a96dc09ff81c490ab93ccf8145b2f9429">adv_handle</a>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a86784262b241579304af17469e9925c3">p_le_pa_adv_set_periodic_adv_enable_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_e_t___p_e_r_i_o_d_i_c___a_d_v___e_n_a_b_l_e___r_s_p.html#a324d63698d720716b386efb308337af8">enable</a>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a86784262b241579304af17469e9925c3">p_le_pa_adv_set_periodic_adv_enable_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_e_t___p_e_r_i_o_d_i_c___a_d_v___e_n_a_b_l_e___r_s_p.html#a324d63698d720716b386efb308337af8">enable</a> &amp;</div><div class="line">                        <a class="code" href="group___p_a___a_d_v___e_n_a_b_l_e.html#ga3185fa63bc06886a7aab8ea64885622d">PA_ADV_ENABLE_ENABLE_PERIODIC_ADVERTISING</a>,</div><div class="line">                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a86784262b241579304af17469e9925c3">p_le_pa_adv_set_periodic_adv_enable_rsp</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_e_t___p_e_r_i_o_d_i_c___a_d_v___e_n_a_b_l_e___r_s_p.html#a324d63698d720716b386efb308337af8">enable</a> &amp; <a class="code" href="group___p_a___a_d_v___e_n_a_b_l_e.html#ga20410b686d0fccad32f4584db4b5bde7">PA_ADV_ENABLE_INCLUDE_ADI</a>);</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_p___l_e___m_s_g___types.html#ga8b15bbaee5a1a42fbbdf4447844d8418">GAP_MSG_LE_PA_ADV_STATE_CHANGE_INFO</a>:</div><div class="line">        {</div><div class="line">            app_handle_pa_adv_state_evt(p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a39d98d4b3c7086e3586fba4ac3839bd9">p_le_pa_adv_state_change_info</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_t_a_t_e___c_h_a_n_g_e___i_n_f_o.html#a96dc09ff81c490ab93ccf8145b2f9429">adv_handle</a>,</div><div class="line">                                        (<a class="code" href="group___g_a_p___l_e___p_a___a_d_v___exported___types.html#ga20616b77fb133d077a5b825bc6b8a528">T_GAP_PA_ADV_STATE</a>)p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a39d98d4b3c7086e3586fba4ac3839bd9">p_le_pa_adv_state_change_info</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_t_a_t_e___c_h_a_n_g_e___i_n_f_o.html#a0b57aa10271a66f3dc936bba1d2f3830">state</a>,</div><div class="line">                                        p_data-&gt;<a class="code" href="union_t___l_e___c_b___d_a_t_a.html#a39d98d4b3c7086e3586fba4ac3839bd9">p_le_pa_adv_state_change_info</a>-&gt;<a class="code" href="struct_t___l_e___p_a___a_d_v___s_t_a_t_e___c_h_a_n_g_e___i_n_f_o.html#aa4f2c0f4dd13d2ab4a435cbbc672c1f3">cause</a>);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    ......</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
