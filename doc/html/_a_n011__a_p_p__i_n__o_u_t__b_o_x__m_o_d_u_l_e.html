<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="APP_IN_OUT_BOX_Module_Page"></a>
APP IN OUT BOX Module Application Note    </h1>
<h2><a class="anchor" id="Rws_App_Rev"></a>
Revision History</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Version  </th><th class="markdownTableHeadCenter">Date  </th><th class="markdownTableHeadCenter">Description   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">V1.0.0.0  </td><td class="markdownTableBodyCenter">2021/10/21  </td><td class="markdownTableBodyCenter">Stable Release   </td></tr>
</table>
<h2>Contents</h2>
<ul>
<li><a class="el" href="_a_n011__a_p_p__i_n__o_u_t__b_o_x__m_o_d_u_l_e.html#APP_IN_OUT_BOX_Module_Introduction">Introduction</a></li>
<li><a class="el" href="_a_n011__a_p_p__i_n__o_u_t__b_o_x__m_o_d_u_l_e.html#APP_IN_OUT_BOX">app in out box</a></li>
</ul>
<h2><a class="anchor" id="APP_IN_OUT_BOX_Module_Introduction"></a>
Introduction</h2>
<p>The purpose of this document is to give an overview of the app in out box module for customer. The document describes how to use in out box module in app project. The source code consists of <b>APP_IN_OUT_BOX</b> part. The details will be described in the following sections.</p>
<h2><a class="anchor" id="APP_IN_OUT_BOX"></a>
app in out box</h2>
<p>This section describes app in out box module. The reference file is shown as follows:</p><ul>
<li>Project source code directory: sdk\src\sample\rws\app_in_out_box.c This module is used to handle in out box message.</li>
</ul>
<h3>Initialize in out box</h3>
<p>Register app in out box cback. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> app_in_out_box_init(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    app_ipc_subscribe(BUD_LOCATION_IPC_TOPIC, app_in_out_box_bud_loc_event_cback);</div><div class="line">}</div></div><!-- fragment --><h3>Handle app in out box message</h3>
<p>1.bud will power on when out box: #if rtk chargerbox case power on when bud is power off and bt ready; #else case1: power on by watchdog reset when reboot check timer exists; case2: power on directly; 2.bud will power off when in box: primary bud will power off when primary will do roleswap finished if engaged and conneted with phone; bud will power off directly when there's no connection; </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> app_in_out_box_handle(T_CASE_LOCATION_STATUS local)</div><div class="line">{</div><div class="line">    T_APP_IN_OUT_BOX_IGNORE_REASON reason = APP_IN_OUT_BOX_IGNORE_NONE;</div><div class="line"></div><div class="line">    <a class="code" href="group___a_p_p___k_e_y___p_r_o_c_e_s_s.html#gafa590b4206ccb752281498e78822f1a8">app_key_stop_timer</a>();</div><div class="line">    <a class="code" href="group___t_r_a_c_e.html#gadbd6667019aa1db0ec6456ec90268f4f">APP_PRINT_TRACE1</a>(<span class="stringliteral">&quot;app_in_out_box_handle: %d&quot;</span>, local);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (local == OUT_CASE)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a83d86c558a207b13669fe7a137a99317">enable_rtk_charging_box</a>)</div><div class="line">        {</div><div class="line">            <a class="code" href="group___a_p_p___d_l_p_s___exported___functions.html#gae9f879fa0a35d85538ad6a8d72837147">app_dlps_stop_power_down_wdg_timer</a>();</div><div class="line">            <a class="code" href="group___a_p_p___a_d_p___c_m_d.html#ga8f8a50d325b7dfa25aca7a7209c7f9bb">app_adp_cmd_clear_pending</a>();</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#ac93de2d14104f0c4efd45f653f74c76c">enable_outbox_power_on</a>)</div><div class="line">            {</div><div class="line">                app_auto_power_off_enable(<a class="code" href="group___a_p_p___d_e_v_i_c_e___exported___types.html#ga6d9608b85300372efdf22c89bce5abdfaa2ae87f0ab71494c29cecf538da0b241">AUTO_POWER_OFF_MASK_IN_BOX</a>, <a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a8b15f1519806e7046a4748df3bfb8d20">timer_auto_power_off</a>);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line"><span class="preprocessor">#if F_APP_IO_OUTPUT_SUPPORT</span></div><div class="line">        {</div><div class="line">            <a class="code" href="group___a_p_p.html#ga6e124b35d73e354cf4c532053d33b76e">app_io_output_ctrl_ext_mcu_pin</a>(<a class="code" href="group__x3e___r_t_l876x___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1ad3a9df141be0ccf10389b640f492b26d">DISABLE</a>);</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___m_a_i_n___exported___variables.html#gacfc09f2731e227125edccf8bcf944926">app_db</a>.<a class="code" href="struct_t___a_p_p___d_b.html#aab0cc27d4c68669710af2ac63fd4f2d3">device_state</a> == <a class="code" href="group___a_p_p___d_e_v_i_c_e___exported___types.html#gga15b39534ff1f5dd5236b4bcb615d24cda0deaa491ef64769f29a516604e2f29eb">APP_DEVICE_STATE_ON</a>)</div><div class="line">        {</div><div class="line">            <a class="code" href="group___a_u_d_i_o___v_o_l_u_m_e.html#ga136ad0fb3db630c25a5c0b68779f97f0">audio_volume_in_unmute</a>(<a class="code" href="group___a_u_d_i_o___t_y_p_e.html#gga58d0e7dea1cb97d070b4535c99687442a5298e4a89a450d4b6c6a697f5ef815cf">AUDIO_STREAM_TYPE_RECORD</a>);</div><div class="line">        }</div><div class="line"></div><div class="line"><span class="preprocessor">#if (F_APP_ONE_WIRE_UART_SUPPORT == 1)</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a3ce18ace6f80f541fb3d59584991e56c">one_wire_uart_support</a>)</div><div class="line">        {</div><div class="line">            app_one_wire_deinit();</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#if (F_APP_OTA_TOOLING_SUPPORT == 1)</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#ga0063edee2b4c1c981d2db26ef6ff820a">app_cfg_nv</a>.<a class="code" href="struct_t___a_p_p___c_f_g___n_v.html#a59689e91abe40da9e45da2bf67c8cd68">ota_tooling_start</a>)</div><div class="line">        {</div><div class="line">            reason = APP_IN_OUT_BOX_IGNORE_BY_OTA_TOOLING;</div><div class="line">            <span class="keywordflow">goto</span> exit;</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <a class="code" href="group___a_p_p___c_f_g___exported___functions.html#gab297c89769dd5a96e5d0e10c194869bc">app_cfg_store</a>(&amp;<a class="code" href="group___a_p_p___c_f_g___exported___types.html#ga0063edee2b4c1c981d2db26ef6ff820a">app_cfg_nv</a>.<a class="code" href="group___a_p_p___c_f_g.html#gadb4b5fb4b6109b3b4ecb2914e44c1dd7">eq_idx_anc_mode_record</a>, 4);</div><div class="line">        <a class="code" href="group___a_p_p___c_f_g___exported___functions.html#gab297c89769dd5a96e5d0e10c194869bc">app_cfg_store</a>(&amp;<a class="code" href="group___a_p_p___c_f_g___exported___types.html#ga0063edee2b4c1c981d2db26ef6ff820a">app_cfg_nv</a>.<a class="code" href="struct_t___a_p_p___c_f_g___n_v.html#a580baafaeca634e2b993790b37f0196c">offset_notification_vol</a>, 8);</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#ga0063edee2b4c1c981d2db26ef6ff820a">app_cfg_nv</a>.<a class="code" href="group___a_p_p___c_f_g.html#ga2eb46bc654f6e40cb2baf1472c2b75a9">adp_factory_reset_power_on</a>)</div><div class="line">        {</div><div class="line">            reason = APP_IN_OUT_BOX_IGNORE_BY_ADP_FACTORY_RESET;</div><div class="line">            <span class="keywordflow">goto</span> exit;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (!<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#ac93de2d14104f0c4efd45f653f74c76c">enable_outbox_power_on</a>)</div><div class="line">        {</div><div class="line">            reason = APP_IN_OUT_BOX_IGNORE_BY_DISABLE_OUTBOX_POWER_ON;</div><div class="line">            <a class="code" href="group___a_p_p___d_l_p_s___exported___functions.html#gab1fbb0ee49793e02f71aab81240e2347">app_dlps_start_power_down_wdg_timer</a>();</div><div class="line">            <span class="keywordflow">goto</span> exit;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#ga0063edee2b4c1c981d2db26ef6ff820a">app_cfg_nv</a>.<a class="code" href="group___a_p_p___c_f_g.html#ga6b11ca6ff2e26422e43252cd630dcc33">factory_reset_done</a>)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a83d86c558a207b13669fe7a137a99317">enable_rtk_charging_box</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___a_p_p___a_d_p___c_m_d.html#ga3d19c84374b114eb613c86519b893b16">app_adp_cmd_power_on_when_out_case</a>();</div><div class="line">            }</div><div class="line">            <span class="keywordflow">else</span></div><div class="line">            {</div><div class="line">                <a class="code" href="group___a_p_p___m_m_i.html#ga052f779c9e19fc32946d63b132fcae09">app_mmi_handle_action</a>(<a class="code" href="group___a_p_p___m_m_i.html#gga9d149ac6a749587538729a0111e48e1babc5c64c8724149c79fa5ad7da4ab036e">MMI_DEV_POWER_ON</a>);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <a class="code" href="group___t_r_a_c_e.html#ga3865df28228d19d7a9c874cddfada3c4">APP_PRINT_TRACE0</a>(<span class="stringliteral">&quot;app_in_out_box_handle: do nothing&quot;</span>);</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span></div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a83d86c558a207b13669fe7a137a99317">enable_rtk_charging_box</a>)</div><div class="line">        {</div><div class="line">            <a class="code" href="group___a_p_p___a_d_p___c_m_d.html#gae6cd42b408d396f309fb3d3e8c547774">app_adp_cmd_pending_exec</a>();</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span></div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#ae25be023d23aa06633c4778172534d37">enable_inbox_power_off</a>)</div><div class="line">            {</div><div class="line">                app_auto_power_off_disable(<a class="code" href="group___a_p_p___d_e_v_i_c_e___exported___types.html#ga6d9608b85300372efdf22c89bce5abdfaa2ae87f0ab71494c29cecf538da0b241">AUTO_POWER_OFF_MASK_IN_BOX</a>);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line"><span class="preprocessor">#if F_APP_IO_OUTPUT_SUPPORT</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___m_a_i_n___exported___variables.html#gacfc09f2731e227125edccf8bcf944926">app_db</a>.<a class="code" href="struct_t___a_p_p___d_b.html#aab0cc27d4c68669710af2ac63fd4f2d3">device_state</a> == <a class="code" href="group___a_p_p___d_e_v_i_c_e___exported___types.html#gga15b39534ff1f5dd5236b4bcb615d24cda0deaa491ef64769f29a516604e2f29eb">APP_DEVICE_STATE_ON</a>)</div><div class="line">        {</div><div class="line">            <a class="code" href="group___a_p_p.html#ga6e124b35d73e354cf4c532053d33b76e">app_io_output_ctrl_ext_mcu_pin</a>(<a class="code" href="group__x3e___r_t_l876x___exported__types.html#ggac9a7e9a35d2513ec15c3b537aaa4fba1a7d46875fa3ebd2c34d2756950eda83bf">ENABLE</a>);</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <a class="code" href="group___a_p_p___c_f_g___exported___functions.html#gab297c89769dd5a96e5d0e10c194869bc">app_cfg_store</a>(&amp;<a class="code" href="group___a_p_p___c_f_g___exported___types.html#ga0063edee2b4c1c981d2db26ef6ff820a">app_cfg_nv</a>.<a class="code" href="group___a_p_p___c_f_g.html#gadb4b5fb4b6109b3b4ecb2914e44c1dd7">eq_idx_anc_mode_record</a>, 4);</div><div class="line">        <a class="code" href="group___a_p_p___c_f_g___exported___functions.html#gab297c89769dd5a96e5d0e10c194869bc">app_cfg_store</a>(&amp;<a class="code" href="group___a_p_p___c_f_g___exported___types.html#ga0063edee2b4c1c981d2db26ef6ff820a">app_cfg_nv</a>.<a class="code" href="struct_t___a_p_p___c_f_g___n_v.html#a580baafaeca634e2b993790b37f0196c">offset_notification_vol</a>, 8);</div><div class="line">        <a class="code" href="group___a_p_p___a_d_p.html#gac5d0e9824b59fb732dafa97a3e9407de">app_adp_set_disable_charger_by_box_battery</a>(<span class="keyword">false</span>);</div><div class="line"></div><div class="line"><span class="preprocessor">#if (F_APP_ONE_WIRE_UART_SUPPORT == 1)</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a3ce18ace6f80f541fb3d59584991e56c">one_wire_uart_support</a>)</div><div class="line">        {</div><div class="line">            app_one_wire_init();</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#if F_APP_ANC_SUPPORT</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_u_d_i_o___a_n_c___t_u_n_i_n_g.html#gada80510173540e4cbe35ab624bdfb177">anc_tool_check_resp_meas_mode</a>() != ANC_RESP_MEAS_MODE_NONE)</div><div class="line">        {</div><div class="line">            anc_tool_trigger_wdg_reset(ANC_RESP_MEAS_MODE_NONE);</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line"><span class="preprocessor">#if (F_APP_AIRPLANE_SUPPORT == 1)</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a83d86c558a207b13669fe7a137a99317">enable_rtk_charging_box</a>)</div><div class="line">        {</div><div class="line">            app_airplane_in_box_handle();</div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line"></div><div class="line">        <span class="comment">//Enable immediately blink charging led and stop vp when adp in during power off</span></div><div class="line">        <a class="code" href="group___a_p_p___l_e_d___exported___functions.html#ga5ce7108d839fdbc0128afcfbb1bf9f3d">app_led_disable_non_repeat_mode</a>();</div><div class="line">        <a class="code" href="group___a_p_p___a_u_d_i_o___exported___functions.html#ga223aca5adec13374bb830a97bef8219e">app_audio_tone_flush</a>(<span class="keyword">false</span>);</div><div class="line">        <a class="code" href="group___a_p_p___a_u_d_i_o___exported___functions.html#ga30a9e90b07b8019ebca60f5c5c971c3e">app_audio_tone_type_stop</a>();</div><div class="line"></div><div class="line">        <span class="comment">/* BBPro2 specialized feature */</span></div><div class="line"><span class="preprocessor">#if F_APP_HEARABLE_SUPPORT</span></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#aed4876ba812c23a247c7b4379fba4c3e">enable_ha</a>)</div><div class="line">        {</div><div class="line"><span class="preprocessor">#if F_APP_APT_SUPPORT</span></div><div class="line">            app_listening_state_machine(<a class="code" href="group___a_p_p___l_i_s_t_e_n_i_n_g___m_o_d_e.html#gga1f67a027bf5550cc90d38c8fd68cab76afd179e7154f368738a3f7e5a939a0e18">EVENT_APT_OFF</a>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        }</div><div class="line"><span class="preprocessor">#endif</span></div><div class="line">        <span class="comment">// end of BBPro2 specialized feature</span></div><div class="line"></div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___m_a_i_n___exported___variables.html#gacfc09f2731e227125edccf8bcf944926">app_db</a>.<a class="code" href="struct_t___a_p_p___d_b.html#aab0cc27d4c68669710af2ac63fd4f2d3">device_state</a> == <a class="code" href="group___a_p_p___d_e_v_i_c_e___exported___types.html#gga15b39534ff1f5dd5236b4bcb615d24cda0deaa491ef64769f29a516604e2f29eb">APP_DEVICE_STATE_ON</a>)</div><div class="line">        {</div><div class="line">            <a class="code" href="group___a_u_d_i_o___v_o_l_u_m_e.html#gad37c3ca22590abd9f41e271cd4fb7150">audio_volume_in_mute</a>(<a class="code" href="group___a_u_d_i_o___t_y_p_e.html#gga58d0e7dea1cb97d070b4535c99687442a5298e4a89a450d4b6c6a697f5ef815cf">AUDIO_STREAM_TYPE_RECORD</a>);</div><div class="line">        }</div><div class="line">    }</div><div class="line"></div><div class="line">    <a class="code" href="group___a_p_p___d_l_p_s___exported___functions.html#ga034420ab656a4b9286d7bf35e149a16a">app_dlps_enable</a>(<a class="code" href="group___a_p_p___d_l_p_s___exported___macros.html#ga9736593545da647d1fefb751f23eb9ec">APP_DLPS_ENTER_CHECK_GPIO</a>);</div><div class="line"></div><div class="line">exit:</div><div class="line">    <span class="keywordflow">if</span> (reason != 0)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___t_r_a_c_e.html#gadbd6667019aa1db0ec6456ec90268f4f">APP_PRINT_TRACE1</a>(<span class="stringliteral">&quot;app_in_out_box_handle: ignore by reason %d&quot;</span>, reason);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> <h3>Handle in out box callback event</h3>
<p>When bud loc change, it will send bud loc change evnet to app_in_out_box_bud_loc_event_cback and trigger some action. </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> app_in_out_box_bud_loc_event_cback(uint32_t event, <span class="keywordtype">void</span> *msg)</div><div class="line">{</div><div class="line">    uint8_t *p_info = msg;</div><div class="line">    <span class="keywordtype">bool</span> from_remote = p_info[0];</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (!from_remote)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (event == EVENT_IN_CASE)</div><div class="line">        {</div><div class="line">            app_in_out_box_handle(IN_CASE);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (event == EVENT_OUT_CASE)</div><div class="line">        {</div><div class="line">            app_in_out_box_handle(OUT_CASE);</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
