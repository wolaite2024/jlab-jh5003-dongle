<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: HRS Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HRS Exported Functions<div class="ingroups"><a class="el" href="group___a_p_i___reference.html">API Reference</a> &raquo; <a class="el" href="group___b_l_u_e_t_o_o_t_h.html">Bluetooth</a> &raquo; <a class="el" href="group___p_r_o_f_i_l_e___a_p_i.html">Profile</a> &raquo; <a class="el" href="group___bluetooth___services.html">Bluetooth Services</a> &raquo; <a class="el" href="group___h_r_s.html">Heart Rate Service</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga8a588190f2071303624ea0328ba7f406"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_r_s___exported___functions.html#ga8a588190f2071303624ea0328ba7f406">hrs_add_service</a> (void *p_func)</td></tr>
<tr class="memdesc:ga8a588190f2071303624ea0328ba7f406"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add heart rate service to the Bluetooth Host.  <a href="#ga8a588190f2071303624ea0328ba7f406">More...</a><br /></td></tr>
<tr class="separator:ga8a588190f2071303624ea0328ba7f406"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26c58e48165a58460590377ec4f003c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_r_s___exported___functions.html#ga26c58e48165a58460590377ec4f003c6">hrs_body_sensor_location_read_confirm</a> (uint8_t conn_id, <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, uint8_t hrs_body_sensor_location, <a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> cause)</td></tr>
<tr class="memdesc:ga26c58e48165a58460590377ec4f003c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Body Sensor Location read confirmation.  <a href="#ga26c58e48165a58460590377ec4f003c6">More...</a><br /></td></tr>
<tr class="separator:ga26c58e48165a58460590377ec4f003c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8319aa80f9422f444a6942fc5ad1d473"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___h_r_s___exported___functions.html#ga8319aa80f9422f444a6942fc5ad1d473">hrs_heart_rate_measurement_value_notify</a> (uint8_t conn_id, <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, <a class="el" href="struct_t___h_e_a_r_t___r_a_t_e___m_e_a_s_u_r_e_m_e_n_t___v_a_l_u_e.html">T_HEART_RATE_MEASUREMENT_VALUE</a> heart_rate_measurement_value)</td></tr>
<tr class="memdesc:ga8319aa80f9422f444a6942fc5ad1d473"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Heart Rate Measurement characteristic notification data.  <a href="#ga8319aa80f9422f444a6942fc5ad1d473">More...</a><br /></td></tr>
<tr class="separator:ga8319aa80f9422f444a6942fc5ad1d473"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga8a588190f2071303624ea0328ba7f406"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a588190f2071303624ea0328ba7f406">&#9670;&nbsp;</a></span>hrs_add_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t hrs_add_service </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add heart rate service to the Bluetooth Host. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_func</td><td>Callback when service attribute was read, written, or CCCD updated. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Service ID generated by the Bluetooth Host: <a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a>. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0xFF</td><td>Operation failure. </td></tr>
    <tr><td class="paramname">others</td><td>Service ID assigned by Bluetooth Host.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> profile_init()</div><div class="line">{</div><div class="line">    <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___functions.html#ga69f3a8c88a1c2d5255f87e69e135311b">server_init</a>(service_num);</div><div class="line">    hrs_id = <a class="code" href="group___h_r_s___exported___functions.html#ga8a588190f2071303624ea0328ba7f406">hrs_add_service</a>(app_handle_profile_message);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga26c58e48165a58460590377ec4f003c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga26c58e48165a58460590377ec4f003c6">&#9670;&nbsp;</a></span>hrs_body_sensor_location_read_confirm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hrs_body_sensor_location_read_confirm </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a>&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hrs_body_sensor_location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a>&#160;</td>
          <td class="paramname"><em>cause</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Body Sensor Location read confirmation. </p>
<p>This function can be called upon receiving the body sensor location read callback. If the application accepts the read request, the cause of the HRS read callback should be set to APP_RESULT_PENDING. Then call this API to send the read confirmation with the cause APP_RESULT_SUCCESS.</p>
<dl class="Experimental_Added_API_2_13_0_0"><dt><b><a class="el" href="_experimental__added__a_p_i_2_13_0_0.html#_Experimental_Added_API_2_13_0_0000051">Experimental Added Since 2.13.0.0:</a></b></dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_id</td><td>Service ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hrs_body_sensor_location</td><td>HRS body sensor location characteristic value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cause</td><td>Cause: <a class="el" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Operation success. </td></tr>
    <tr><td class="paramname">false</td><td>Operation failure.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><a class="code" href="group___g_a_p___common___exported___types.html#ga90b0c39404615bbdf0fc222483ed3fb9">T_APP_RESULT</a> hrs_cb(<a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a> service_id, <a class="code" href="struct_t___h_r_s___c_a_l_l_b_a_c_k___d_a_t_a.html">T_HRS_CALLBACK_DATA</a> *cb_data)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (cb_data-&gt;<a class="code" href="struct_t___h_r_s___c_a_l_l_b_a_c_k___d_a_t_a.html#ab7ead957ed5cb2f53052af5e39e98a79">msg_type</a>)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gga1ae3e282729216efbd709224940575a7a84062d7216785555446ac9bf65f4e6a7">SERVICE_CALLBACK_TYPE_READ_CHAR_VALUE</a>:</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (cb_data-&gt;<a class="code" href="struct_t___h_r_s___c_a_l_l_b_a_c_k___d_a_t_a.html#ae9d16611ce0a9251fb9b0bf6f5e7f9db">msg_data</a>.<a class="code" href="union_t___h_r_s___u_p_s_t_r_e_a_m___m_s_g___d_a_t_a.html#a33e4249eb6be718fef909fd0f9f60dba">read_value_index</a> == <a class="code" href="group___h_r_s___read___info.html#gabba4335b39bb3ba31e1ab1bb004e0cd7">HRS_READ_BODY_SENSOR_LOCATION_VALUE</a>)</div><div class="line">            {</div><div class="line">                <span class="keywordflow">return</span> <a class="code" href="group___g_a_p___common___exported___types.html#gga90b0c39404615bbdf0fc222483ed3fb9a9f877e20e6ad5feed31bf5f59346ae2d">APP_RESULT_PENDING</a>;</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">    ......</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="group___g_a_p___common___exported___types.html#gga90b0c39404615bbdf0fc222483ed3fb9a909f010ff315d17ec44d25243492a366">APP_RESULT_SUCCESS</a>;</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> result = <a class="code" href="group___h_r_s___exported___functions.html#ga26c58e48165a58460590377ec4f003c6">hrs_body_sensor_location_read_confirm</a>(conn_id, service_id, hrs_body_sensor_location,</div><div class="line">                                                        cause);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga8319aa80f9422f444a6942fc5ad1d473"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8319aa80f9422f444a6942fc5ad1d473">&#9670;&nbsp;</a></span>hrs_heart_rate_measurement_value_notify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hrs_heart_rate_measurement_value_notify </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___g_a_t_t___s_e_r_v_e_r___c_o_m_m_o_n___exported___types.html#gada7cb21908790f5a0751f80b733f5287">T_SERVER_ID</a>&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_t___h_e_a_r_t___r_a_t_e___m_e_a_s_u_r_e_m_e_n_t___v_a_l_u_e.html">T_HEART_RATE_MEASUREMENT_VALUE</a>&#160;</td>
          <td class="paramname"><em>heart_rate_measurement_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Heart Rate Measurement characteristic notification data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conn_id</td><td>Connection ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_id</td><td>Service ID. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heart_rate_measurement_value</td><td>Heart Rate Measurement notification value: <a class="el" href="struct_t___h_e_a_r_t___r_a_t_e___m_e_a_s_u_r_e_m_e_n_t___v_a_l_u_e.html">T_HEART_RATE_MEASUREMENT_VALUE</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Operation result. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Operation success. </td></tr>
    <tr><td class="paramname">false</td><td>Operation failure.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> result = <a class="code" href="group___h_r_s___exported___functions.html#ga8319aa80f9422f444a6942fc5ad1d473">hrs_heart_rate_measurement_value_notify</a>(conn_id, service_id, heart_rate_measurement_value);</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
