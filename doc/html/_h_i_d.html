<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: $title</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="contents">
<div class="textblock"><p><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
 </p>
<h1><a class="anchor" id="HID_USER_MANU"></a>
HID Application Note </h1>
<p><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
 </p><center><b>V1.1</b></center><p><br />
 </p><center><b>2023/06/21</b></center><div style="page-break-after: always;"></div> <h2><a class="anchor" id="HID_Revision"></a>
Revision History</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Version  </th><th class="markdownTableHeadCenter">Date  </th><th class="markdownTableHeadCenter">Description   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">V1.0.0.0  </td><td class="markdownTableBodyCenter">2021/10/21  </td><td class="markdownTableBodyCenter">Stable Release   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyCenter">V1.1  </td><td class="markdownTableBodyCenter">2023/06/21  </td><td class="markdownTableBodyCenter">Adjust format   </td></tr>
</table>
<div style="page-break-after: always;"></div> <h2><a class="anchor" id="HID_Content"></a>
Contents</h2>
<ul>
<li><a class="el" href="_h_i_d.html#HID_Revision">Revision History</a></li>
<li><a class="el" href="_h_i_d.html#HID_Table_List">Table List</a></li>
<li><a class="el" href="_h_i_d.html#HID_Figure_List">Figure List</a></li>
<li><a class="el" href="_h_i_d.html#HID_Glossary">Glossary</a></li>
<li><a class="el" href="_h_i_d.html#HID_Intro">1 Introduction</a></li>
<li><a class="el" href="_h_i_d.html#HID_API">2 HID API Introduction</a><ul>
<li><a class="el" href="_h_i_d.html#HID_Init">2.1 HID Init</a></li>
<li><a class="el" href="_h_i_d.html#HID_Connect">2.2 HID Connect</a></li>
<li><a class="el" href="_h_i_d.html#HID_Disconnect">2.3 HID Disconnect</a></li>
<li><a class="el" href="_h_i_d.html#HID_Send_Report">2.4 HID Send Report</a></li>
</ul>
</li>
</ul>
<div style="page-break-after: always;"></div> <h2><a class="anchor" id="HID_Table_List"></a>
Table List</h2>
<ul>
<li><a href="#table_2_1">Table 2-1 Bits for Selected Usage</a></li>
</ul>
<div style="page-break-after: always;"></div> <h2><a class="anchor" id="HID_Figure_List"></a>
Figure List</h2>
<ul>
<li><a href="#figure_2_1">Figure 2-1 HID Connection Initiated By Host</a></li>
<li><a href="#figure_2_2">Figure 2-2 HID Connection Initiated By Device</a></li>
<li><a href="#figure_2_3">Figure 2-3 HID Disconnection Initiated By Host</a></li>
<li><a href="#figure_2_4">Figure 2-4 HID Disconnection Initiated By Device</a></li>
<li><a href="#figure_2_5">Figure 2-5 HID Send Report</a></li>
</ul>
<div style="page-break-after: always;"></div> <h2><a class="anchor" id="HID_Glossary"></a>
Glossary</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Terms  </th><th class="markdownTableHeadCenter">Definitions   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">HID  </td><td class="markdownTableBodyCenter">Human Interface Device Profile   </td></tr>
</table>
<div style="page-break-after: always;"></div> <h2><a class="anchor" id="HID_Intro"></a>
1 Introduction</h2>
<p>The purpose of this document is to give an overview of the HID Device application based on HID profile. The Human Interface Device (HID) Profile Specification defines the protocols, procedures, and features to be used by Bluetooth HID devices and Bluetooth HID Hosts.</p>
<h3>1.1 HID Role</h3>
<ul>
<li>HID Host - This is a device using or requesting the services of a Bluetooth HID device. Examples would be a personal computer or gaming console.</li>
<li>HID Device - This is a device providing the service of human or other data input and output to and from a Bluetooth HID Host. Examples of Bluetooth HID devices are keyboards, mice and joysticks.</li>
</ul>
<div style="page-break-after: always;"></div><h2><a class="anchor" id="HID_API"></a>
2 HID API Introduction</h2>
<p>This manual describes the <b>HID API definition</b>.</p>
<h3><a class="anchor" id="HID_Init"></a>
2.1 HID Init</h3>
<p>bool <a class="el" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga4fa980a37485567484ff35c843e363f0" title="Initialize HID profile. ">bt_hid_device_init()</a> <br />
 Initialize HID profile, and configure the maximum link number of hid. Decide whether support boot mode or not.</p>
<p>bool <a class="el" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga5fbdc7eae9c53c1a95ea5604979f0adc" title="Set HID descriptor. ">bt_hid_device_descriptor_set()</a> <br />
 Set an HID report descriptor.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___h_i_d.html#gaba38d0cdf641eabaec04d1859663e95a">app_hid_init</a>(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="group___a_p_p___c_f_g.html#ga22ec8032c8e4b8b7843c186572dbc1c6">supported_profile_mask</a> &amp; <a class="code" href="group___a_p_p___l_i_n_k.html#gac51807708577994a96d8ca3491c10787">HID_PROFILE_MASK</a>)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga4fa980a37485567484ff35c843e363f0">bt_hid_device_init</a>(<a class="code" href="group___a_p_p___c_f_g___exported___types.html#gae5da1e58b53e3ae552aafa6d26ade7a2">app_cfg_const</a>.<a class="code" href="struct_t___a_p_p___c_f_g___c_o_n_s_t.html#a61a87a093780be3f95ecd9ac9f3cad24">hid_link_number</a>, <span class="keyword">true</span>);</div><div class="line">        <a class="code" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga5fbdc7eae9c53c1a95ea5604979f0adc">bt_hid_device_descriptor_set</a>(hid_descriptor_keyboard_boot_mode, <span class="keyword">sizeof</span>(hid_descriptor_keyboard_boot_mode));</div><div class="line">        <a class="code" href="group___b_t___b_t_m.html#gad5518472fde08b8e93d5fc9c40d72f85">bt_mgr_cback_register</a>(app_hid_bt_cback);</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><h4>An example report descriptor of keyboard and sdp record</h4>
<p>There shall be a report descriptor of keyboard and the sdp record. </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keyword">const</span> uint8_t hid_keyboard_sdp_record[] =</div><div class="line">{</div><div class="line">    <span class="comment">//Total length</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga6dbc93f7ad4f06efb400f95a4d6cc588">SDP_DATA_ELEM_SEQ_HDR_2BYTE</a>,</div><div class="line">    0x01,</div><div class="line">    0x12,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_SRV_CLASS_ID_LIST</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gae6e31379df951f323d24e4f8b85d42d3">SDP_ATTR_SRV_CLASS_ID_LIST</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gae6e31379df951f323d24e4f8b85d42d3">SDP_ATTR_SRV_CLASS_ID_LIST</a>,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x03,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga9d465beea934f5f89796f9c6901da35c">SDP_UUID16_HDR</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#gaaf43a1e1a649baaf355ba0b4adf6993a">UUID_HUMAN_INTERFACE_DEVICE_SERVICE</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#gaaf43a1e1a649baaf355ba0b4adf6993a">UUID_HUMAN_INTERFACE_DEVICE_SERVICE</a>),</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_PROTO_DESC_LIST</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga3e3afe98f67b0f02ee51ca67e2d257b6">SDP_ATTR_PROTO_DESC_LIST</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga3e3afe98f67b0f02ee51ca67e2d257b6">SDP_ATTR_PROTO_DESC_LIST</a>,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x0D,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x06,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga9d465beea934f5f89796f9c6901da35c">SDP_UUID16_HDR</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#ga847ad44f6d4c69761ac39371da15020d">UUID_L2CAP</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#ga847ad44f6d4c69761ac39371da15020d">UUID_L2CAP</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___p_s_m.html#ga33c5ae57abea07ce51451365b29f0e20">PSM_HID_CONTROL</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___p_s_m.html#ga33c5ae57abea07ce51451365b29f0e20">PSM_HID_CONTROL</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x03,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga9d465beea934f5f89796f9c6901da35c">SDP_UUID16_HDR</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#ga76ed18854ec809e46d9a3bb645d827cf">UUID_HIDP</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#ga76ed18854ec809e46d9a3bb645d827cf">UUID_HIDP</a>),</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_LANG_BASE_ATTR_ID_LIST</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gac632e35802c2000d951d4cbfd76d581c">SDP_ATTR_LANG_BASE_ATTR_ID_LIST</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gac632e35802c2000d951d4cbfd76d581c">SDP_ATTR_LANG_BASE_ATTR_ID_LIST</a>,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x09,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga59193fd534551a66c905f59a2e8a2292">SDP_LANG_ENGLISH</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga59193fd534551a66c905f59a2e8a2292">SDP_LANG_ENGLISH</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga9750914f645e442d203118942473e2a5">SDP_CHARACTER_UTF8</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga9750914f645e442d203118942473e2a5">SDP_CHARACTER_UTF8</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a>),</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_PROFILE_DESC_LIST</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga4aa7aa3090459d3056faa878fcfde257">SDP_ATTR_PROFILE_DESC_LIST</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga4aa7aa3090459d3056faa878fcfde257">SDP_ATTR_PROFILE_DESC_LIST</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x08,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x06,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga9d465beea934f5f89796f9c6901da35c">SDP_UUID16_HDR</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#gaaf43a1e1a649baaf355ba0b4adf6993a">UUID_HUMAN_INTERFACE_DEVICE_SERVICE</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#gaaf43a1e1a649baaf355ba0b4adf6993a">UUID_HUMAN_INTERFACE_DEVICE_SERVICE</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0101 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0101),</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_ADD_PROTO_DESC_LIST</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gafc23ef4f84db506092d0c781d91a341e">SDP_ATTR_ADD_PROTO_DESC_LIST</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gafc23ef4f84db506092d0c781d91a341e">SDP_ATTR_ADD_PROTO_DESC_LIST</a>,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x0F,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x0D,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x06,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga9d465beea934f5f89796f9c6901da35c">SDP_UUID16_HDR</a>,</div><div class="line">    (uint8_t)(0x0100 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0100),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___p_s_m.html#ga19e4bcf5a5bbdd96a9c6f054e6f991bc">PSM_HID_INTERRUPT</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___p_s_m.html#ga19e4bcf5a5bbdd96a9c6f054e6f991bc">PSM_HID_INTERRUPT</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x03,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga9d465beea934f5f89796f9c6901da35c">SDP_UUID16_HDR</a>,</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#ga76ed18854ec809e46d9a3bb645d827cf">UUID_HIDP</a> &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___u_u_i_d.html#ga76ed18854ec809e46d9a3bb645d827cf">UUID_HIDP</a>),</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_SRV_NAME</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)((<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga3c3fbd0a8e6f368f0a3261835901488d">SDP_ATTR_SRV_NAME</a> + <a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a>) &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga3c3fbd0a8e6f368f0a3261835901488d">SDP_ATTR_SRV_NAME</a> + <a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga7e6da9cd524f983c421d0d84d65d8855">SDP_STRING_HDR</a>,</div><div class="line">    0x0B,</div><div class="line">    <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;k&#39;</span>, <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;H&#39;</span>, <span class="charliteral">&#39;I&#39;</span>, <span class="charliteral">&#39;D&#39;</span>,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_SRV_DESC</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)((<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gab3f18f6677c3d083faa54a3bbab8200d">SDP_ATTR_SRV_DESC</a> + <a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a>) &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gab3f18f6677c3d083faa54a3bbab8200d">SDP_ATTR_SRV_DESC</a> + <a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga7e6da9cd524f983c421d0d84d65d8855">SDP_STRING_HDR</a>,</div><div class="line">    0x10,</div><div class="line">    <span class="charliteral">&#39;(&#39;</span>, <span class="charliteral">&#39;3&#39;</span>, <span class="charliteral">&#39;)&#39;</span>, <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;B&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;n&#39;</span>, <span class="charliteral">&#39; &#39;</span>, <span class="charliteral">&#39;M&#39;</span>, <span class="charliteral">&#39;o&#39;</span>, <span class="charliteral">&#39;u&#39;</span>, <span class="charliteral">&#39;s&#39;</span>, <span class="charliteral">&#39;e&#39;</span>,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute SDP_ATTR_PROVIDER_NAME</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)((<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gafb8816a854f7699804fbf5288fd0b60a">SDP_ATTR_PROVIDER_NAME</a> + <a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a>) &gt;&gt; 8),</div><div class="line">    (uint8_t)(<a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#gafb8816a854f7699804fbf5288fd0b60a">SDP_ATTR_PROVIDER_NAME</a> + <a class="code" href="group___b_t___s_d_p___a_t_t_r_i_b_u_t_e_s.html#ga8724613c287eece3321573a98c81da5b">SDP_BASE_LANG_OFFSET</a>),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga7e6da9cd524f983c421d0d84d65d8855">SDP_STRING_HDR</a>,</div><div class="line">    0x07,</div><div class="line">    <span class="charliteral">&#39;R&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;a&#39;</span>, <span class="charliteral">&#39;l&#39;</span>, <span class="charliteral">&#39;t&#39;</span>, <span class="charliteral">&#39;e&#39;</span>, <span class="charliteral">&#39;k&#39;</span>,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDParserVersion</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0201 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0201),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0111 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0111),</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDDeviceSubclass</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0202 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0202),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga87b74d21f9c850aa838ad27c2881982a">SDP_UNSIGNED_ONE_BYTE</a>,</div><div class="line">    0x80,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDCountryCode</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0203 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0203),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga87b74d21f9c850aa838ad27c2881982a">SDP_UNSIGNED_ONE_BYTE</a>,</div><div class="line">    0x21,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDVirtualCable</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0204 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0204),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga43090da31dbfdb6dc618483d05701cad">SDP_BOOL_ONE_BYTE</a>,</div><div class="line">    0x01,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDReconnectInitiate</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0205 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0205),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga43090da31dbfdb6dc618483d05701cad">SDP_BOOL_ONE_BYTE</a>,</div><div class="line">    0x01,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDDescriptorList</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0206 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0206),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    <span class="comment">//0x47,</span></div><div class="line">    0x58,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    <span class="comment">//0x45,</span></div><div class="line">    0x56,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga87b74d21f9c850aa838ad27c2881982a">SDP_UNSIGNED_ONE_BYTE</a>,</div><div class="line">    0x22,                   <span class="comment">/* Type = Report Descriptor */</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga7e6da9cd524f983c421d0d84d65d8855">SDP_STRING_HDR</a>,</div><div class="line">    0x52,</div><div class="line"></div><div class="line">    0x05, 0x0c,             <span class="comment">/* USAGE_PAGE (Consumer) */</span></div><div class="line">    0x09, 0x01,             <span class="comment">/* USAGE (Consumer Control) */</span></div><div class="line">    0xA1, 0x01,             <span class="comment">/* COLLECTION (Application) */</span></div><div class="line">    0x85, 0x02,             <span class="comment">/*     REPORT_ID         (2)           */</span></div><div class="line">    0x95, 0x18,             <span class="comment">/*     REPORT_COUNT (24) */</span></div><div class="line">    0x75, 0x01,             <span class="comment">/*     REPORT_SIZE (1) */</span></div><div class="line">    0x15, 0x00,             <span class="comment">/*     LOGICAL_MINIMUM (0) */</span></div><div class="line">    0x25, 0x01,             <span class="comment">/*     LOGICAL_MAXIMUM (1) */</span></div><div class="line">    0x0a, 0x23, 0x02,       <span class="comment">/*     USAGE (AL Home) */</span></div><div class="line">    0x0a, 0x21, 0x02,       <span class="comment">/*     USAGE (AC Search) */</span></div><div class="line">    0x0a, 0x8a, 0x01,       <span class="comment">/*     USAGE (AL Email Reader) */</span></div><div class="line">    0x0a, 0x96, 0x01,       <span class="comment">/*     USAGE (AL Internet Browser) */</span></div><div class="line">    0x0a, 0x9e, 0x01,       <span class="comment">/*     USAGE (AL Terminal Lock/Screensaver) */</span></div><div class="line">    0x0a, 0x01, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x02, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x05, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x06, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x07, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x08, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x0a, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x0b, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0xae, 0x01,       <span class="comment">/*     USAGE (AL Keyboard Layboard) */</span></div><div class="line">    0x0a, 0xb1, 0x01,       <span class="comment">/*     USAGE (AL Screen Saver) */</span></div><div class="line">    0x09, 0x40,             <span class="comment">/*     USAGE (Menu) */</span></div><div class="line">    0x09, 0x30,             <span class="comment">/*     USAGE (Power) */</span></div><div class="line">    0x09, 0xb7,             <span class="comment">/*     USAGE (Stop) */</span></div><div class="line">    0x09, 0xb6,             <span class="comment">/*     USAGE (Scan Previous Track) */</span></div><div class="line">    0x09, 0xcd,             <span class="comment">/*     USAGE (Play/Pause) */</span></div><div class="line">    0x09, 0xb5,             <span class="comment">/*     USAGE (Scan Next Track) */</span></div><div class="line">    0x09, 0xe2,             <span class="comment">/*     USAGE (Mute) */</span></div><div class="line">    0x09, 0xea,             <span class="comment">/*     USAGE (Volume Down) */</span></div><div class="line">    0x09, 0xe9,             <span class="comment">/*     USAGE (Volume Up) */</span></div><div class="line">    0x81, 0x02,             <span class="comment">/*     INPUT (Data,Var,Abs) */</span></div><div class="line">    0xC0,                   <span class="comment">/* END_COLLECTION */</span></div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDLANGIDBaseList</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0207 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0207),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x08,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga3162e2d0cb09ada26915070f4082f82a">SDP_DATA_ELEM_SEQ_HDR</a>,</div><div class="line">    0x06,</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0409 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0409),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0100 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0100),</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDBatteryPower</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x0209 &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x0209),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga43090da31dbfdb6dc618483d05701cad">SDP_BOOL_ONE_BYTE</a>,</div><div class="line">    0x01,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDRemoteWake</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x020A &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x020A),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga43090da31dbfdb6dc618483d05701cad">SDP_BOOL_ONE_BYTE</a>,</div><div class="line">    0x01,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDNormallyConnectable</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x020D &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x020D),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga43090da31dbfdb6dc618483d05701cad">SDP_BOOL_ONE_BYTE</a>,</div><div class="line">    0x01,</div><div class="line"></div><div class="line">    <span class="comment">//Attribute HIDBootDevice</span></div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga942a94138894beb2b2bc75daebc6e2d0">SDP_UNSIGNED_TWO_BYTE</a>,</div><div class="line">    (uint8_t)(0x020E &gt;&gt; 8),</div><div class="line">    (uint8_t)(0x020E),</div><div class="line">    <a class="code" href="group___b_t___s_d_p___h_e_a_d_e_r.html#ga43090da31dbfdb6dc618483d05701cad">SDP_BOOL_ONE_BYTE</a>,</div><div class="line">    0x01,</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">const</span> uint8_t hid_descriptor_keyboard_boot_mode[] =</div><div class="line">{</div><div class="line">    0x05, 0x0c,             <span class="comment">/* USAGE_PAGE (Consumer) */</span></div><div class="line">    0x09, 0x01,             <span class="comment">/* USAGE (Consumer Control) */</span></div><div class="line">    0xA1, 0x01,             <span class="comment">/* COLLECTION (Application) */</span></div><div class="line">    0x85, 0x02,             <span class="comment">/*     REPORT_ID         (2)           */</span></div><div class="line">    0x95, 0x18,             <span class="comment">/*     REPORT_COUNT (24) */</span></div><div class="line">    0x75, 0x01,             <span class="comment">/*     REPORT_SIZE (1) */</span></div><div class="line">    0x15, 0x00,             <span class="comment">/*     LOGICAL_MINIMUM (0) */</span></div><div class="line">    0x25, 0x01,             <span class="comment">/*     LOGICAL_MAXIMUM (1) */</span></div><div class="line">    0x0a, 0x23, 0x02,       <span class="comment">/*     USAGE (AL Home) */</span></div><div class="line">    0x0a, 0x21, 0x02,       <span class="comment">/*     USAGE (AC Search) */</span></div><div class="line">    0x0a, 0x8a, 0x01,       <span class="comment">/*     USAGE (AL Email Reader) */</span></div><div class="line">    0x0a, 0x96, 0x01,       <span class="comment">/*     USAGE (AL Internet Browser) */</span></div><div class="line">    0x0a, 0x9e, 0x01,       <span class="comment">/*     USAGE (AL Terminal Lock/Screensaver) */</span></div><div class="line">    0x0a, 0x01, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x02, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x05, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x06, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x07, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x08, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x0a, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0x0b, 0x03,       <span class="comment">/*     USAGE (Reserved) */</span></div><div class="line">    0x0a, 0xae, 0x01,       <span class="comment">/*     USAGE (AL Keyboard Layboard) */</span></div><div class="line">    0x0a, 0xb1, 0x01,       <span class="comment">/*     USAGE (AL Screen Saver) */</span></div><div class="line">    0x09, 0x40,             <span class="comment">/*     USAGE (Menu) */</span></div><div class="line">    0x09, 0x30,             <span class="comment">/*     USAGE (Power) */</span></div><div class="line">    0x09, 0xb7,             <span class="comment">/*     USAGE (Stop) */</span></div><div class="line">    0x09, 0xb6,             <span class="comment">/*     USAGE (Scan Previous Track) */</span></div><div class="line">    0x09, 0xcd,             <span class="comment">/*     USAGE (Play/Pause) */</span></div><div class="line">    0x09, 0xb5,             <span class="comment">/*     USAGE (Scan Next Track) */</span></div><div class="line">    0x09, 0xe2,             <span class="comment">/*     USAGE (Mute) */</span></div><div class="line">    0x09, 0xea,             <span class="comment">/*     USAGE (Volume Down) */</span></div><div class="line">    0x09, 0xe9,             <span class="comment">/*     USAGE (Volume Up) */</span></div><div class="line">    0x81, 0x02,             <span class="comment">/*     INPUT (Data,Var,Abs) */</span></div><div class="line">    0xC0,                   <span class="comment">/* END_COLLECTION */</span></div><div class="line">};</div></div><!-- fragment --><div style="page-break-after: always;"></div> <center><div id="table_2_1"><b>Table 2-1 Bits for Selected Usage</b></div></center> <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Bit  </th><th class="markdownTableHeadLeft">Description   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">0  </td><td class="markdownTableBodyLeft">AL Home   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">1  </td><td class="markdownTableBodyLeft">AC Search   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">2  </td><td class="markdownTableBodyLeft">AL Email Reader   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">3  </td><td class="markdownTableBodyLeft">AL Internet Browser   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">4  </td><td class="markdownTableBodyLeft">AL Terminal Lock/Screensaver   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">5  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">6  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">7  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">8  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">9  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">12  </td><td class="markdownTableBodyLeft">Reserved   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">13  </td><td class="markdownTableBodyLeft">AL Keyboard Layboard   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">14  </td><td class="markdownTableBodyLeft">AL Screen Saver   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">15  </td><td class="markdownTableBodyLeft">Menu   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">16  </td><td class="markdownTableBodyLeft">Power   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">17  </td><td class="markdownTableBodyLeft">Stop   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">18  </td><td class="markdownTableBodyLeft">Scan Previous Track   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">19  </td><td class="markdownTableBodyLeft">Play/Pause   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">20  </td><td class="markdownTableBodyLeft">Scan Next Track   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">21  </td><td class="markdownTableBodyLeft">Mute   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">22  </td><td class="markdownTableBodyLeft">Volume Down   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyLeft">23  </td><td class="markdownTableBodyLeft">Volume Up   </td></tr>
</table>
<p>The bits for selected usage are set to 1. Others are set to 0.</p>
<p>Please refer to <a href="https://usb.org/document-library/hid-usage-tables-122">https://usb.org/document-library/hid-usage-tables-122</a> for more information.</p>
<h3><a class="anchor" id="HID_Connect"></a>
2.2 HID Connect</h3>
<p><b>Note:</b>In the event of a Bluetooth HID connection, the initiator first connects the HID Control channel, then the HID Interrupt channel. The procedure of an HID connection intiated by host is shown in Figure 2-1. <a class="el" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83af1fed1513cdb67a04c6de5ce0107704d">BT_EVENT_HID_DEVICE_CONN_IND</a> is reported after HID host sends the HID connection request. Then APP decides whether to accept the connection. <a class="el" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83ab7a5f9f6ed268c66e6f0e17ab0985548">BT_EVENT_HID_DEVICE_CONN_CMPL</a> is reported after HID Control channel and HID Interrupt channel are both connected. </p><div class="image">
<img src="hid_connection_initiated_by_host.png" alt="hid_connection_initiated_by_host.png"/>
</div>
 <center><div id="figure_2_1"><b>Figure 2-1 HID Connection Initiated By Host</b></div></center><p>bool <a class="el" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga57770e0c9f4df65c3b0edb69711126db" title="Send HID connection confirmation. ">bt_hid_device_connect_cfm()</a> <br />
 Accept or reject the incoming connection from the remote device. </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> app_hid_bt_cback(<a class="code" href="group___b_t___b_t_m.html#ga60f938d2fe9ea1ac81e1bf400fbb5b03">T_BT_EVENT</a> event_type, <span class="keywordtype">void</span> *event_buf, uint16_t buf_len)</div><div class="line">{</div><div class="line">    <a class="code" href="union_t___b_t___e_v_e_n_t___p_a_r_a_m.html">T_BT_EVENT_PARAM</a> *param = event_buf;</div><div class="line">    <a class="code" href="struct_t___a_p_p___b_r___l_i_n_k.html">T_APP_BR_LINK</a> *p_link;</div><div class="line">    <span class="keywordtype">bool</span> handle = <span class="keyword">true</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">switch</span> (event_type)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83af1fed1513cdb67a04c6de5ce0107704d">BT_EVENT_HID_DEVICE_CONN_IND</a>:</div><div class="line">        {</div><div class="line">            p_link = <a class="code" href="group___a_p_p___l_i_n_k.html#ga02c6038934a5cd3f4a0cf6ddabc090a0">app_find_br_link</a>(param-&gt;bt_hid_device_conn_ind.bd_addr);</div><div class="line">            <span class="keywordflow">if</span> (p_link != <a class="code" href="group___platform___types___exported___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga57770e0c9f4df65c3b0edb69711126db">bt_hid_device_connect_cfm</a>(p_link-&gt;<a class="code" href="struct_t___a_p_p___b_r___l_i_n_k.html#a624fd24b46be2b40c8731334c9de5d06">bd_addr</a>, <span class="keyword">true</span>);</div><div class="line">            }</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">}</div></div><!-- fragment --><p>The prodcedure of HID connection intiated by device is shown in Figure 2-2. HID device initiates an HID connection. <a class="el" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83ab7a5f9f6ed268c66e6f0e17ab0985548">BT_EVENT_HID_DEVICE_CONN_CMPL</a> is reported after two HID channels are both connected. </p><div class="image">
<img src="hid_connection_initiated_by_device.png" alt="hid_connection_initiated_by_device.png"/>
</div>
 <center><div id="figure_2_2"><b>Figure 2-2 HID Connection Initiated By Device</b></div></center><p>bool <a class="el" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga7918e5586c7a6f7361ceb06dac279f7d" title="Send HID connection request. ">bt_hid_device_connect_req()</a> <br />
 Initiate an HID connection to a remote device.</p>
<h3><a class="anchor" id="HID_Disconnect"></a>
2.3 HID Disconnect</h3>
<p><b>Note:</b>In the event of a Bluetooth HID disconnection, the initiator first disconnects the HID Interrupt channel, then the HID Control channel. The procrdure of an HID disconnection initiated by host is shown in Figure 2-3. HID host initiates an HID disconnection. If the two HID channels are both disconnected, APP will receive <a class="el" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83a39445b397f0c55aba8311f889e4a65e9">BT_EVENT_HID_DEVICE_DISCONN_CMPL</a>. </p><div class="image">
<img src="hid_disconnection_initiated_by_host.png" alt="hid_disconnection_initiated_by_host.png"/>
</div>
 <center><div id="figure_2_3"><b>Figure 2-3 HID Disconnection Initiated By Host</b></div></center><p>The procrdure of an HID disconnection initiated by device is shown in Figure 2-4. HID device initiates an HID disconnection. If the two HID channels are both disconnected, APP will receive <a class="el" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83a39445b397f0c55aba8311f889e4a65e9">BT_EVENT_HID_DEVICE_DISCONN_CMPL</a>. </p><div class="image">
<img src="hid_disconnection_initiated_by_device.png" alt="hid_disconnection_initiated_by_device.png"/>
</div>
 <center><div id="figure_2_4"><b>Figure 2-4 HID Disconnection Initiated By Device</b></div></center><p>bool <a class="el" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga3800b950a092d2abfeee955aa688dc06" title="Send HID disconnection request. ">bt_hid_device_disconnect_req()</a> <br />
 Request an HID disconnection.</p>
<h3><a class="anchor" id="HID_Send_Report"></a>
2.4 HID Send Report</h3>
<p>The procedure of HID send report procedure is shown in Figure 2-5. After HID Control channel and Interrupt channel are both connected, reports and messages can be send over the two channels. </p><div class="image">
<img src="hid_send_report.png" alt="hid_send_report.png"/>
</div>
 <center><div id="figure_2_5"><b>Figure 2-5 HID Send Report</b></div></center><p>bool <a class="el" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga268eff8153924b3bcacc791141803bc8" title="Send a HID GET_REPORT response message over control channel after receiving GET_REPORT message from H...">bt_hid_device_get_report_rsp()</a> <br />
 Send an HID get report response over control channel after received get report command. </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> app_hid_bt_cback(<a class="code" href="group___b_t___b_t_m.html#ga60f938d2fe9ea1ac81e1bf400fbb5b03">T_BT_EVENT</a> event_type, <span class="keywordtype">void</span> *event_buf, uint16_t buf_len)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (event_type)</div><div class="line">    {</div><div class="line"></div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83aa739d587b8e11ad6928dbc68e2a96199">BT_EVENT_HID_DEVICE_GET_REPORT_IND</a>:</div><div class="line">        {</div><div class="line">            <a class="code" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga268eff8153924b3bcacc791141803bc8">bt_hid_device_get_report_rsp</a>(p_link-&gt;<a class="code" href="struct_t___a_p_p___b_r___l_i_n_k.html#a624fd24b46be2b40c8731334c9de5d06">bd_addr</a>, report_type, buf, len);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">}</div></div><!-- fragment --><p>bool bt_hid_device_get_protocol_rsp() <br />
 Send an HID get protocol response over control channel after received get protocol command. </p><div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> app_hid_bt_cback(<a class="code" href="group___b_t___b_t_m.html#ga60f938d2fe9ea1ac81e1bf400fbb5b03">T_BT_EVENT</a> event_type, <span class="keywordtype">void</span> *event_buf, uint16_t buf_len)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (event_type)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___b_t___b_t_m.html#ggad24078c623525f9ed318443fdc4e4c83a3a578f11cbfb77827f0ed4190a581af7">BT_EVENT_HID_DEVICE_GET_PROTOCOL_IND</a>:</div><div class="line">        {</div><div class="line">            bt_hid_device_get_protocol_rsp(bd_addr, proto_mode);</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">}</div></div><!-- fragment --><p>bool <a class="el" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga4ce4a28f56da259c07bf7e53f204bd8f" title="Send HID DATA message over interrupt channel. s. ">bt_hid_device_interrupt_data_send()</a> <br />
 Send HID report data over interrupt channel. There is an example of sending volume up report. </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___a_p_p___m_m_i.html#ga052f779c9e19fc32946d63b132fcae09">app_mmi_handle_action</a>(uint8_t action)</div><div class="line">{</div><div class="line">    <span class="keywordflow">switch</span> (action)</div><div class="line">    {</div><div class="line">    <span class="keywordflow">case</span> <a class="code" href="group___a_p_p___m_m_i.html#gga9d149ac6a749587538729a0111e48e1ba1bbe3cb1c23f62857ce9abbf20004f35">MMI_TAKE_PICTURE</a>:</div><div class="line">        {</div><div class="line">            uint8_t app_idx = <a class="code" href="group___a_p_p___a2_d_p___exported___functions.html#ga64e5317c844d638279db3fc8b13ba41f">app_a2dp_get_active_idx</a>();</div><div class="line">            uint8_t keyboard_vol_up[5] = {0x02, 0, 0, 0x80, 0};</div><div class="line">            uint8_t keyboard_release[5] = {0x02, 0, 0, 0, 0};</div><div class="line"></div><div class="line">            <a class="code" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga4ce4a28f56da259c07bf7e53f204bd8f">bt_hid_device_interrupt_data_send</a>(<a class="code" href="group___a_p_p___b_t___p_a_n___d_e_m_o___l_i_n_k.html#gac563cf0f8ddf7768f3da4ab95cdd884e">app_db</a>.<a class="code" href="struct_t___a_p_p___b_t___p_a_n___d_e_m_o___a_p_p___d_b.html#a626d0674adf98cdfd57ee45c011c1971">br_link</a>[app_idx].<a class="code" href="struct_t___a_p_p___b_t___p_a_n___d_e_m_o___l_i_n_k.html#a624fd24b46be2b40c8731334c9de5d06">bd_addr</a>, BT_HID_REPORT_TYPE_INPUT,</div><div class="line">                                              keyboard_vol_up, <span class="keyword">sizeof</span>(keyboard_vol_up));</div><div class="line">            <a class="code" href="group___b_t___h_i_d___d_e_v_i_c_e.html#ga4ce4a28f56da259c07bf7e53f204bd8f">bt_hid_device_interrupt_data_send</a>(<a class="code" href="group___a_p_p___b_t___p_a_n___d_e_m_o___l_i_n_k.html#gac563cf0f8ddf7768f3da4ab95cdd884e">app_db</a>.<a class="code" href="struct_t___a_p_p___b_t___p_a_n___d_e_m_o___a_p_p___d_b.html#a626d0674adf98cdfd57ee45c011c1971">br_link</a>[app_idx].<a class="code" href="struct_t___a_p_p___b_t___p_a_n___d_e_m_o___l_i_n_k.html#a624fd24b46be2b40c8731334c9de5d06">bd_addr</a>, BT_HID_REPORT_TYPE_INPUT,</div><div class="line">                                              keyboard_release, <span class="keyword">sizeof</span>(keyboard_release));</div><div class="line">        }</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">default</span>:</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">    }</div></div><!-- fragment --> </div></div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
