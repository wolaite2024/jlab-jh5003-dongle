<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: GAP Timer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GAP Timer<div class="ingroups"><a class="el" href="group___a_p_i___reference.html">API Reference</a> &raquo; <a class="el" href="group___b_l_u_e_t_o_o_t_h.html">Bluetooth</a> &raquo; <a class="el" href="group___g_a_p.html">GAP</a> &raquo; <a class="el" href="group___g_a_p___c_o_m_m_o_n___m_o_d_u_l_e.html">GAP Common Module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Register timeout callback functions, start and stop software timers.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga936b689e140ad842087fdc3d5218f66d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___t_i_m_e_r.html#ga936b689e140ad842087fdc3d5218f66d">P_TIMEOUT_CB</a>) (uint8_t timer_id, uint16_t timer_chann)</td></tr>
<tr class="memdesc:ga936b689e140ad842087fdc3d5218f66d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prototype of callback functions other modules registered to handle timeout events.  <a href="#ga936b689e140ad842087fdc3d5218f66d">More...</a><br /></td></tr>
<tr class="separator:ga936b689e140ad842087fdc3d5218f66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9c18e9c1810499b1d08915386574da60"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___t_i_m_e_r.html#ga9c18e9c1810499b1d08915386574da60">gap_init_timer</a> (void *evt_handle, uint8_t timer_q_num)</td></tr>
<tr class="memdesc:ga9c18e9c1810499b1d08915386574da60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init GAP Timer Module.  <a href="#ga9c18e9c1810499b1d08915386574da60">More...</a><br /></td></tr>
<tr class="separator:ga9c18e9c1810499b1d08915386574da60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa69e621535dae6a916772dd46193a68c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___t_i_m_e_r.html#gaa69e621535dae6a916772dd46193a68c">gap_reg_timer_cb</a> (<a class="el" href="group___a_p_p___t_i_m_e_r.html#ga2f5db47149937520ac9c8e4b26af31c4">P_TIMEOUT_CB</a> callback, uint8_t *p_queue_id)</td></tr>
<tr class="memdesc:gaa69e621535dae6a916772dd46193a68c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a timeout callback function in GAP Timer Module. A queue ID is returned which will be used when start timer by calling <a class="el" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>. When timeout event occurs, GAP Timer Module will find the exact timeout function by queue ID and execute it.  <a href="#gaa69e621535dae6a916772dd46193a68c">More...</a><br /></td></tr>
<tr class="separator:gaa69e621535dae6a916772dd46193a68c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90e208220b403c1622f5fc92a216ad55"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a> (void **pp_handle, const char *p_name, uint8_t queue_id, uint8_t timer_id, uint16_t timer_chann, uint32_t timeout_ms)</td></tr>
<tr class="memdesc:ga90e208220b403c1622f5fc92a216ad55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new GAP timer and start it. This allocates the storage required by the new timer, starts this timer if create successfully, and returns a handle by which the new timer can be referenced. <b>GAP timer is always a one-shot timer</b>  <a href="#ga90e208220b403c1622f5fc92a216ad55">More...</a><br /></td></tr>
<tr class="separator:ga90e208220b403c1622f5fc92a216ad55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac58204b6e5f306f768d84c4a2b02760e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___g_a_p___t_i_m_e_r.html#gac58204b6e5f306f768d84c4a2b02760e">gap_stop_timer</a> (void **pp_handle)</td></tr>
<tr class="memdesc:gac58204b6e5f306f768d84c4a2b02760e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop a timer that was previously started using <a class="el" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>.  <a href="#gac58204b6e5f306f768d84c4a2b02760e">More...</a><br /></td></tr>
<tr class="separator:gac58204b6e5f306f768d84c4a2b02760e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Register timeout callback functions, start and stop software timers. </p>
<p>The GAP Timer Module allows to register timeout callback functions which will be called when timeout, also provides start/stop timer functions. GAP Timer Module provides a method for APP to handle timeout events in its own task.<br />
</p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga936b689e140ad842087fdc3d5218f66d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga936b689e140ad842087fdc3d5218f66d">&#9670;&nbsp;</a></span>P_TIMEOUT_CB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*  P_TIMEOUT_CB) (uint8_t timer_id, uint16_t timer_chann)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prototype of callback functions other modules registered to handle timeout events. </p>
<p><a class="el" href="gap__timer_8h_source.html">gap_timer.h</a></p>
<p>Timer ID and timer channel are the same as those used in <a class="el" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>.<br />
</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9c18e9c1810499b1d08915386574da60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c18e9c1810499b1d08915386574da60">&#9670;&nbsp;</a></span>gap_init_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gap_init_timer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>evt_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>timer_q_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init GAP Timer Module. </p>
<p><a class="el" href="gap__timer_8h_source.html">gap_timer.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">evt_handle</td><td>Event queue handle which represents event queue created by APP task. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timer_q_num</td><td>Number of elements in GAP timer message queue which will be create by GAP timer Module.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None.</dd></dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define EVENT_GAP_TIMER             0x0A</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define MAX_NUMBER_OF_GAP_TIMER     0x10</span></div><div class="line"></div><div class="line"><span class="keywordtype">void</span> *evt_q_handle;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> app_task(<span class="keywordtype">void</span> *p_param)</div><div class="line">{</div><div class="line">    uint8_t event;</div><div class="line"></div><div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line">    {</div><div class="line">        <span class="keywordflow">if</span> (<a class="code" href="group___o_s__87x3d___message.html#ga10998e34fdfdd3297af840e60d03b09b">os_msg_recv</a>(evt_q_handle, &amp;event, 0xFFFFFFFF) == <span class="keyword">true</span>)</div><div class="line">        {</div><div class="line">            <span class="keywordflow">if</span> (event == <a class="code" href="group___a_p_p___m_s_g___exported___types.html#ggae013f504d288fa3c19ec0f1af745975cab86e06a16509711b337a7576c660d4b4">EVENT_GAP_TIMER</a>)</div><div class="line">            {</div><div class="line">                <a class="code" href="group___g_a_p___c_o_m_m_o_n___e_x_p_o_r_t___functions.html#gadc91ccdf8fda07b12ab307882d2b8b7d">gap_handle_msg</a>(event);</div><div class="line">            }</div><div class="line">        }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// Init GAP Timer Module.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <a class="code" href="group___o_s__87x3d___message.html#ga78583ff4df155099dbb1592bd71dedfb">os_msg_queue_create</a>(&amp;evt_q_handle, MAX_NUMBER_OF_GAP_TIMER, <span class="keyword">sizeof</span>(uint8_t));</div><div class="line"></div><div class="line">    <a class="code" href="group___g_a_p___t_i_m_e_r.html#ga9c18e9c1810499b1d08915386574da60">gap_init_timer</a>(evt_q_handle, MAX_NUMBER_OF_GAP_TIMER);</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// Create app task.</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    <a class="code" href="group___o_s__87x3e___schedule___exported__functions.html#ga3300197ad1a1b9d64a335dc4ffc0769f">os_sched_start</a>();</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gaa69e621535dae6a916772dd46193a68c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa69e621535dae6a916772dd46193a68c">&#9670;&nbsp;</a></span>gap_reg_timer_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gap_reg_timer_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_p_p___t_i_m_e_r.html#ga2f5db47149937520ac9c8e4b26af31c4">P_TIMEOUT_CB</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_queue_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a timeout callback function in GAP Timer Module. A queue ID is returned which will be used when start timer by calling <a class="el" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>. When timeout event occurs, GAP Timer Module will find the exact timeout function by queue ID and execute it. </p>
<p><a class="el" href="gap__timer_8h_source.html">gap_timer.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>Timeout callback function. Callback functions must have the prototype defined as <a class="el" href="group___a_p_p___t_i_m_e_r.html#ga2f5db47149937520ac9c8e4b26af31c4">P_TIMEOUT_CB</a>.</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">p_queue_id</td><td>Used to pass back a queue ID that will be used when start timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of registering timeout callback function. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Callback function was registered successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Callback function was failed to register.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define TIMER_ID          0x01</span></div><div class="line"><span class="preprocessor">#define TIMER_CHANN       0x1000</span></div><div class="line"></div><div class="line">uint8_t timer_queue_id;</div><div class="line"><span class="keywordtype">void</span>   *timer_handle;</div><div class="line"></div><div class="line"><span class="comment">// timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(uint8_t timer_id, uint16_t timer_chann)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID &amp;&amp; timer_chann == TIMER_CHANN)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___g_a_p___t_i_m_e_r.html#gac58204b6e5f306f768d84c4a2b02760e">gap_stop_timer</a>(&amp;timer_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// register timer callback function and start timer.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> ret;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// Init GAP Timer Module.</span></div><div class="line">    <span class="comment">// Create app task.</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    ret = <a class="code" href="group___g_a_p___t_i_m_e_r.html#gaa69e621535dae6a916772dd46193a68c">gap_reg_timer_cb</a>(timer_callback, &amp;timer_queue_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (ret)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>(&amp;timer_handle, <span class="stringliteral">&quot;test_timer&quot;</span>, timer_queue_id,</div><div class="line">                        TIMER_ID, TIMER_CHANN, 2000);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="ga90e208220b403c1622f5fc92a216ad55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90e208220b403c1622f5fc92a216ad55">&#9670;&nbsp;</a></span>gap_start_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gap_start_timer </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>queue_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>timer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>timer_chann</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout_ms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new GAP timer and start it. This allocates the storage required by the new timer, starts this timer if create successfully, and returns a handle by which the new timer can be referenced. <b>GAP timer is always a one-shot timer</b> </p>
<p><a class="el" href="gap__timer_8h_source.html">gap_timer.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">pp_handle</td><td>Used to pass back a handle by which the created timer can be referenced.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_name</td><td>A descriptive name for the timer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">queue_id</td><td>Timer queue ID assigned by GAP Timer Module when register timer callback function using <a class="el" href="group___g_a_p___t_i_m_e_r.html#gaa69e621535dae6a916772dd46193a68c">gap_reg_timer_cb</a>. Queue ID would be used to identify which timeout function will be execute.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timer_id</td><td>Timer ID assigned by module which starts this timer</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timer_chann</td><td>Timer channel assigned by module which start this timer. Typically timer ID and timer channel would be used in the timer callback function to identify which timer expired when the same callback function is assigned to more than one timer.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout_ms</td><td>Timeout value in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer creation and starting. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was created and started successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to create or start.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define TIMER_ID          0x01</span></div><div class="line"><span class="preprocessor">#define TIMER_CHANN       0x1000</span></div><div class="line"></div><div class="line">uint8_t timer_queue_id;</div><div class="line"><span class="keywordtype">void</span>   *timer_handle;</div><div class="line"></div><div class="line"><span class="comment">// timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(uint8_t timer_id, uint16_t timer_chann)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID &amp;&amp; timer_chann == TIMER_CHANN)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___g_a_p___t_i_m_e_r.html#gac58204b6e5f306f768d84c4a2b02760e">gap_stop_timer</a>(&amp;timer_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// register timer callback function and start timer.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> ret;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// Init GAP Timer Module.</span></div><div class="line">    <span class="comment">// Create app task.</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    ret = <a class="code" href="group___g_a_p___t_i_m_e_r.html#gaa69e621535dae6a916772dd46193a68c">gap_reg_timer_cb</a>(timer_callback, &amp;timer_queue_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (ret)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>(&amp;timer_handle, <span class="stringliteral">&quot;test_timer&quot;</span>, timer_queue_id,</div><div class="line">                        TIMER_ID, TIMER_CHANN, 2000);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<a id="gac58204b6e5f306f768d84c4a2b02760e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac58204b6e5f306f768d84c4a2b02760e">&#9670;&nbsp;</a></span>gap_stop_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gap_stop_timer </td>
          <td>(</td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pp_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop a timer that was previously started using <a class="el" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>. </p>
<p><a class="el" href="gap__timer_8h_source.html">gap_timer.h</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pp_handle</td><td>Pointer to the handle of timer being stopped.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the timer stopping. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Timer was stopped successfully. </td></tr>
    <tr><td class="paramname">false</td><td>Timer was failed to stop.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Example usage</b> </p><div class="fragment"><div class="line"><span class="preprocessor">#define TIMER_ID          0x01</span></div><div class="line"><span class="preprocessor">#define TIMER_CHANN       0x1000</span></div><div class="line"></div><div class="line">uint8_t timer_queue_id;</div><div class="line"><span class="keywordtype">void</span>   *timer_handle;</div><div class="line"></div><div class="line"><span class="comment">// timer callback function.</span></div><div class="line"><span class="keywordtype">void</span> timer_callback(uint8_t timer_id, uint16_t timer_chann)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (timer_id == TIMER_ID &amp;&amp; timer_chann == TIMER_CHANN)</div><div class="line">    {</div><div class="line">         <span class="comment">// Delete the specified timer.</span></div><div class="line">         <a class="code" href="group___g_a_p___t_i_m_e_r.html#gac58204b6e5f306f768d84c4a2b02760e">gap_stop_timer</a>(&amp;timer_handle);</div><div class="line">    }</div><div class="line">}</div><div class="line"></div><div class="line"><span class="comment">// register timer callback function and start timer.</span></div><div class="line"><span class="keywordtype">int</span> test(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    <span class="keywordtype">bool</span> ret;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line">    <span class="comment">// Init GAP Timer Module.</span></div><div class="line">    <span class="comment">// Create app task.</span></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">    ret = <a class="code" href="group___g_a_p___t_i_m_e_r.html#gaa69e621535dae6a916772dd46193a68c">gap_reg_timer_cb</a>(timer_callback, &amp;timer_queue_id);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (ret)</div><div class="line">    {</div><div class="line">        <a class="code" href="group___g_a_p___t_i_m_e_r.html#ga90e208220b403c1622f5fc92a216ad55">gap_start_timer</a>(&amp;timer_handle, <span class="stringliteral">&quot;test_timer&quot;</span>, timer_queue_id,</div><div class="line">                        TIMER_ID, TIMER_CHANN, 2000);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
