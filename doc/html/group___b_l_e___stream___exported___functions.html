<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BT AUDIO SDK: BLE Stream API Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="my_customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bbpro-h55px.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BT AUDIO SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,true,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BLE Stream API Functions<div class="ingroups"><a class="el" href="group___a_p_i___reference.html">API Reference</a> &raquo; <a class="el" href="group___m_c_u.html">MCU</a> &raquo; <a class="el" href="group___m_o_d_u_l_e.html">Module</a> &raquo; <a class="el" href="group___m_o_d_u_l_e___s_t_r_e_a_m.html">Stream</a> &raquo; <a class="el" href="group___b_l_e___s_t_r_e_a_m.html">Bluetooth Low Energy API Sets</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gade7cde63b06bd5b36ec5cbeb9118a369"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___stream___exported___functions.html#gade7cde63b06bd5b36ec5cbeb9118a369">ble_stream_init</a> (uint32_t max_stream_num)</td></tr>
<tr class="separator:gade7cde63b06bd5b36ec5cbeb9118a369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab86a8e4ea7ada99a69dbec0fc2381c30"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___stream___exported___functions.html#gab86a8e4ea7ada99a69dbec0fc2381c30">ble_stream_write</a> (<a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a> ble_stream, uint8_t *data, uint32_t length)</td></tr>
<tr class="separator:gab86a8e4ea7ada99a69dbec0fc2381c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga279ff80be3a69b2bffd3ca75510b04fb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___stream___exported___functions.html#ga279ff80be3a69b2bffd3ca75510b04fb">ble_stream_create</a> (<a class="el" href="struct_b_l_e___i_n_i_t___s_e_t_t_i_n_g_s.html">BLE_INIT_SETTINGS</a> *p_settings)</td></tr>
<tr class="memdesc:ga279ff80be3a69b2bffd3ca75510b04fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the BLE stream.  <a href="#ga279ff80be3a69b2bffd3ca75510b04fb">More...</a><br /></td></tr>
<tr class="separator:ga279ff80be3a69b2bffd3ca75510b04fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga009b73c9923588c3420cc88363ff84fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___stream___exported___functions.html#ga009b73c9923588c3420cc88363ff84fa">ble_stream_event_process</a> (<a class="el" href="group___b_l_e___stream___exported___types.html#ga424a4b2c804911b4e8730e0849eef955">T_BLE_STREAM_EVENT</a> event, <a class="el" href="union_t___b_l_e___s_t_r_e_a_m___e_v_e_n_t___p_a_r_a_m.html">T_BLE_STREAM_EVENT_PARAM</a> *event_param)</td></tr>
<tr class="memdesc:ga009b73c9923588c3420cc88363ff84fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the event of the BLE.  <a href="#ga009b73c9923588c3420cc88363ff84fa">More...</a><br /></td></tr>
<tr class="separator:ga009b73c9923588c3420cc88363ff84fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09c6641350feafbb5a7560c091bc2849"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___stream___exported___functions.html#ga09c6641350feafbb5a7560c091bc2849">ble_stream_search_by_id</a> (uint32_t service_id, uint8_t conn_id, uint8_t read_attr_idx, uint8_t write_attr_idx)</td></tr>
<tr class="separator:ga09c6641350feafbb5a7560c091bc2849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ed180fcf6137d60f601206de2e0d2a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___stream___exported___functions.html#ga8ed180fcf6137d60f601206de2e0d2a2">ble_stream_search_by_addr</a> (uint32_t service_id, uint8_t *bd_addr, uint8_t read_attr_idx, uint8_t write_attr_idx)</td></tr>
<tr class="separator:ga8ed180fcf6137d60f601206de2e0d2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga93e01cc254d0dcf3afce5e17881182d7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_l_e___stream___exported___functions.html#ga93e01cc254d0dcf3afce5e17881182d7">ble_stream_copy_pub_addr</a> (uint8_t conn_id, uint8_t *pub_addr)</td></tr>
<tr class="separator:ga93e01cc254d0dcf3afce5e17881182d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gade7cde63b06bd5b36ec5cbeb9118a369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade7cde63b06bd5b36ec5cbeb9118a369">&#9670;&nbsp;</a></span>ble_stream_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ble_stream_init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_stream_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gab86a8e4ea7ada99a69dbec0fc2381c30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab86a8e4ea7ada99a69dbec0fc2381c30">&#9670;&nbsp;</a></span>ble_stream_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ble_stream_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a>&#160;</td>
          <td class="paramname"><em>ble_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga279ff80be3a69b2bffd3ca75510b04fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga279ff80be3a69b2bffd3ca75510b04fb">&#9670;&nbsp;</a></span>ble_stream_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a> ble_stream_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_b_l_e___i_n_i_t___s_e_t_t_i_n_g_s.html">BLE_INIT_SETTINGS</a> *&#160;</td>
          <td class="paramname"><em>p_settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the BLE stream. </p>
<dl class="section note"><dt>Note</dt><dd>BLE stream is a sub-module of transmission stream. It implements the abstract interface of transmission stream definition. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ble_setting</td><td>BLE initialization setting </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>transmission stream, if initialize fail, NULL will be returned </dd></dl>

</div>
</div>
<a id="ga009b73c9923588c3420cc88363ff84fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga009b73c9923588c3420cc88363ff84fa">&#9670;&nbsp;</a></span>ble_stream_event_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ble_stream_event_process </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___b_l_e___stream___exported___types.html#ga424a4b2c804911b4e8730e0849eef955">T_BLE_STREAM_EVENT</a>&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="union_t___b_l_e___s_t_r_e_a_m___e_v_e_n_t___p_a_r_a_m.html">T_BLE_STREAM_EVENT_PARAM</a> *&#160;</td>
          <td class="paramname"><em>event_param</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the event of the BLE. </p>
<dl class="section note"><dt>Note</dt><dd>This API connects BLE stream module to BLE protocal by receiving and processing the BLE event. This API should be called where these events exist, with the required parameters, so that BLE stream can receive these events, and every event defined in <a class="el" href="group___b_l_e___stream___exported___types.html#ga424a4b2c804911b4e8730e0849eef955">T_BLE_STREAM_EVENT</a> is requied </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>event number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event_param</td><td>event parameter </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<p><b>Example Usage</b> </p><div class="fragment"><div class="line"><span class="comment">// Examples of updating MTU events</span></div><div class="line"><span class="comment">// Suppose this location is where the BLE protocol updates the MTU</span></div><div class="line"><a class="code" href="union_t___b_l_e___s_t_r_e_a_m___e_v_e_n_t___p_a_r_a_m.html">T_BLE_STREAM_EVENT_PARAM</a> ble_stream_param;</div><div class="line">ble_stream_param.<a class="code" href="union_t___b_l_e___s_t_r_e_a_m___e_v_e_n_t___p_a_r_a_m.html#ae60cf503acbf62edbedcc71c97cb6980">update_mut_param</a>.<a class="code" href="struct_t___b_l_e___s_t_r_e_a_m___u_p_d_a_t_e___e_v_e_n_t___m_t_u.html#a6f2749c213f11ad9a16583079a554b39">conn_id</a> = conn_id;</div><div class="line">ble_stream_param.<a class="code" href="union_t___b_l_e___s_t_r_e_a_m___e_v_e_n_t___p_a_r_a_m.html#ae60cf503acbf62edbedcc71c97cb6980">update_mut_param</a>.<a class="code" href="struct_t___b_l_e___s_t_r_e_a_m___u_p_d_a_t_e___e_v_e_n_t___m_t_u.html#a2997a8aa5758871f81608a28ce97b796">mtu</a>     = mtu;</div><div class="line"><a class="code" href="group___b_l_e___stream___exported___functions.html#ga009b73c9923588c3420cc88363ff84fa">ble_stream_event_process</a>(<a class="code" href="group___b_l_e___stream___exported___types.html#gga424a4b2c804911b4e8730e0849eef955a3760b79d0fb00290caa5813ff4954b8a">BLE_STREAM_UPDATE_MTU_EVENT</a>, &amp;ble_stream_param);</div></div><!-- fragment --> 
</div>
</div>
<a id="ga09c6641350feafbb5a7560c091bc2849"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga09c6641350feafbb5a7560c091bc2849">&#9670;&nbsp;</a></span>ble_stream_search_by_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a> ble_stream_search_by_id </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>read_attr_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>write_attr_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga8ed180fcf6137d60f601206de2e0d2a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8ed180fcf6137d60f601206de2e0d2a2">&#9670;&nbsp;</a></span>ble_stream_search_by_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___b_l_e___stream___exported___types.html#ga772fa062ed82e70b9ca118a4b66d34ea">BLE_STREAM</a> ble_stream_search_by_addr </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>service_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>bd_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>read_attr_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>write_attr_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga93e01cc254d0dcf3afce5e17881182d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga93e01cc254d0dcf3afce5e17881182d7">&#9670;&nbsp;</a></span>ble_stream_copy_pub_addr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ble_stream_copy_pub_addr </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>conn_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pub_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->

<HR SIZE=5>
<font size="3" color="black">Copyright(c) 2020, <a href=" http://www.realtek.com.tw/"><font size="3" color="#6FB7B7"><b>Realtek Semiconductor Corporation</b></font></a>. All rights reserved.</font> 
